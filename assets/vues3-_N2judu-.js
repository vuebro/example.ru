import{reactive as ye,watch as Ge,isReactive as tr,computed as Ve,isRef as je,unref as nr}from"vue";var ar=Object.create,ir=Object.getPrototypeOf,Ue=Object.defineProperty,sr=Object.getOwnPropertyNames,or=Object.prototype.hasOwnProperty,Je=(e,r,h)=>{h=e!=null?ar(ir(e)):{};const f=Ue(h,"default",{value:e,enumerable:!0});for(let m of sr(e))or.call(f,m)||Ue(f,m,{get:()=>e[m],enumerable:!0});return f},z=(e,r)=>()=>(r||e((r={exports:{}}).exports,r),r.exports),_e=z(e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.regexpCode=e.getEsmExportName=e.getProperty=e.safeStringify=e.stringify=e.strConcat=e.addCodeArg=e.str=e._=e.nil=e._Code=e.Name=e.IDENTIFIER=e._CodeOrName=void 0;class r{}e._CodeOrName=r,e.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;class h extends r{constructor(o){if(super(),!e.IDENTIFIER.test(o))throw new Error("CodeGen: name must be a valid identifier");this.str=o}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}}e.Name=h;class f extends r{constructor(o){super(),this._items=typeof o=="string"?[o]:o}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;const o=this._items[0];return o===""||o==='""'}get str(){var o;return(o=this._str)!==null&&o!==void 0?o:this._str=this._items.reduce((a,t)=>`${a}${t}`,"")}get names(){var o;return(o=this._names)!==null&&o!==void 0?o:this._names=this._items.reduce((a,t)=>(t instanceof h&&(a[t.str]=(a[t.str]||0)+1),a),{})}}e._Code=f,e.nil=new f("");function m(n,...o){const a=[n[0]];let t=0;for(;t<o.length;)p(a,o[t]),a.push(n[++t]);return new f(a)}e._=m;var $=new f("+");function i(n,...o){const a=[P(n[0])];let t=0;for(;t<o.length;)a.push($),p(a,o[t]),a.push($,P(n[++t]));return s(a),new f(a)}e.str=i;function p(n,o){o instanceof f?n.push(...o._items):o instanceof h?n.push(o):n.push(g(o))}e.addCodeArg=p;function s(n){let o=1;for(;o<n.length-1;){if(n[o]===$){const a=d(n[o-1],n[o+1]);if(a!==void 0){n.splice(o-1,3,a);continue}n[o++]="+"}o++}}function d(n,o){if(o==='""')return n;if(n==='""')return o;if(typeof n=="string")return o instanceof h||n[n.length-1]!=='"'?void 0:typeof o!="string"?`${n.slice(0,-1)}${o}"`:o[0]==='"'?n.slice(0,-1)+o.slice(1):void 0;if(typeof o=="string"&&o[0]==='"'&&!(n instanceof h))return`"${n}${o.slice(1)}`}function _(n,o){return o.emptyStr()?n:n.emptyStr()?o:i`${n}${o}`}e.strConcat=_;function g(n){return typeof n=="number"||typeof n=="boolean"||n===null?n:P(Array.isArray(n)?n.join(","):n)}function E(n){return new f(P(n))}e.stringify=E;function P(n){return JSON.stringify(n).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}e.safeStringify=P;function N(n){return typeof n=="string"&&e.IDENTIFIER.test(n)?new f(`.${n}`):m`[${n}]`}e.getProperty=N;function S(n){if(typeof n=="string"&&e.IDENTIFIER.test(n))return new f(`${n}`);throw new Error(`CodeGen: invalid export name: ${n}, use explicit $id name mapping`)}e.getEsmExportName=S;function y(n){return new f(n.toString())}e.regexpCode=y}),ze=z(e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ValueScope=e.ValueScopeName=e.Scope=e.varKinds=e.UsedValueState=void 0;var r=_e();class h extends Error{constructor(d){super(`CodeGen: "code" for ${d} not defined`),this.value=d.value}}var f;(function(s){s[s.Started=0]="Started",s[s.Completed=1]="Completed"})(f||(e.UsedValueState=f={})),e.varKinds={const:new r.Name("const"),let:new r.Name("let"),var:new r.Name("var")};class m{constructor({prefixes:d,parent:_}={}){this._names={},this._prefixes=d,this._parent=_}toName(d){return d instanceof r.Name?d:this.name(d)}name(d){return new r.Name(this._newName(d))}_newName(d){const _=this._names[d]||this._nameGroup(d);return`${d}${_.index++}`}_nameGroup(d){var _,g;if(!((g=(_=this._parent)===null||_===void 0?void 0:_._prefixes)===null||g===void 0)&&g.has(d)||this._prefixes&&!this._prefixes.has(d))throw new Error(`CodeGen: prefix "${d}" is not allowed in this scope`);return this._names[d]={prefix:d,index:0}}}e.Scope=m;class $ extends r.Name{constructor(d,_){super(_),this.prefix=d}setValue(d,{property:_,itemIndex:g}){this.value=d,this.scopePath=(0,r._)`.${new r.Name(_)}[${g}]`}}e.ValueScopeName=$;var i=(0,r._)`\n`;class p extends m{constructor(d){super(d),this._values={},this._scope=d.scope,this.opts={...d,_n:d.lines?i:r.nil}}get(){return this._scope}name(d){return new $(d,this._newName(d))}value(d,_){var g;if(_.ref===void 0)throw new Error("CodeGen: ref must be passed in value");const E=this.toName(d),{prefix:P}=E,N=(g=_.key)!==null&&g!==void 0?g:_.ref;let S=this._values[P];if(S){const o=S.get(N);if(o)return o}else S=this._values[P]=new Map;S.set(N,E);const y=this._scope[P]||(this._scope[P]=[]),n=y.length;return y[n]=_.ref,E.setValue(_,{property:P,itemIndex:n}),E}getValue(d,_){const g=this._values[d];if(g)return g.get(_)}scopeRefs(d,_=this._values){return this._reduceValues(_,g=>{if(g.scopePath===void 0)throw new Error(`CodeGen: name "${g}" has no value`);return(0,r._)`${d}${g.scopePath}`})}scopeCode(d=this._values,_,g){return this._reduceValues(d,E=>{if(E.value===void 0)throw new Error(`CodeGen: name "${E}" has no value`);return E.value.code},_,g)}_reduceValues(d,_,g={},E){let P=r.nil;for(const N in d){const S=d[N];if(!S)continue;const y=g[N]=g[N]||new Map;S.forEach(n=>{if(y.has(n))return;y.set(n,f.Started);let o=_(n);if(o){const a=this.opts.es5?e.varKinds.var:e.varKinds.const;P=(0,r._)`${P}${a} ${n} = ${o};${this.opts._n}`}else if(o=E==null?void 0:E(n))P=(0,r._)`${P}${o}${this.opts._n}`;else throw new h(n);y.set(n,f.Completed)})}return P}}e.ValueScope=p}),W=z(e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.or=e.and=e.not=e.CodeGen=e.operators=e.varKinds=e.ValueScopeName=e.ValueScope=e.Scope=e.Name=e.regexpCode=e.stringify=e.getProperty=e.nil=e.strConcat=e.str=e._=void 0;var r=_e(),h=ze(),f=_e();Object.defineProperty(e,"_",{enumerable:!0,get:function(){return f._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return f.str}}),Object.defineProperty(e,"strConcat",{enumerable:!0,get:function(){return f.strConcat}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return f.nil}}),Object.defineProperty(e,"getProperty",{enumerable:!0,get:function(){return f.getProperty}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return f.stringify}}),Object.defineProperty(e,"regexpCode",{enumerable:!0,get:function(){return f.regexpCode}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return f.Name}});var m=ze();Object.defineProperty(e,"Scope",{enumerable:!0,get:function(){return m.Scope}}),Object.defineProperty(e,"ValueScope",{enumerable:!0,get:function(){return m.ValueScope}}),Object.defineProperty(e,"ValueScopeName",{enumerable:!0,get:function(){return m.ValueScopeName}}),Object.defineProperty(e,"varKinds",{enumerable:!0,get:function(){return m.varKinds}}),e.operators={GT:new r._Code(">"),GTE:new r._Code(">="),LT:new r._Code("<"),LTE:new r._Code("<="),EQ:new r._Code("==="),NEQ:new r._Code("!=="),NOT:new r._Code("!"),OR:new r._Code("||"),AND:new r._Code("&&"),ADD:new r._Code("+")};class ${optimizeNodes(){return this}optimizeNames(l,w){return this}}class i extends ${constructor(l,w,C){super(),this.varKind=l,this.name=w,this.rhs=C}render({es5:l,_n:w}){const C=l?h.varKinds.var:this.varKind,L=this.rhs===void 0?"":` = ${this.rhs}`;return`${C} ${this.name}${L};`+w}optimizeNames(l,w){if(l[this.name.str])return this.rhs&&(this.rhs=F(this.rhs,l,w)),this}get names(){return this.rhs instanceof r._CodeOrName?this.rhs.names:{}}}class p extends ${constructor(l,w,C){super(),this.lhs=l,this.rhs=w,this.sideEffects=C}render({_n:l}){return`${this.lhs} = ${this.rhs};`+l}optimizeNames(l,w){if(!(this.lhs instanceof r.Name&&!l[this.lhs.str]&&!this.sideEffects))return this.rhs=F(this.rhs,l,w),this}get names(){const l=this.lhs instanceof r.Name?{}:{...this.lhs.names};return K(l,this.rhs)}}class s extends p{constructor(l,w,C,L){super(l,C,L),this.op=w}render({_n:l}){return`${this.lhs} ${this.op}= ${this.rhs};`+l}}class d extends ${constructor(l){super(),this.label=l,this.names={}}render({_n:l}){return`${this.label}:`+l}}class _ extends ${constructor(l){super(),this.label=l,this.names={}}render({_n:l}){return`break${this.label?` ${this.label}`:""};`+l}}class g extends ${constructor(l){super(),this.error=l}render({_n:l}){return`throw ${this.error};`+l}get names(){return this.error.names}}class E extends ${constructor(l){super(),this.code=l}render({_n:l}){return`${this.code};`+l}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(l,w){return this.code=F(this.code,l,w),this}get names(){return this.code instanceof r._CodeOrName?this.code.names:{}}}class P extends ${constructor(l=[]){super(),this.nodes=l}render(l){return this.nodes.reduce((w,C)=>w+C.render(l),"")}optimizeNodes(){const{nodes:l}=this;let w=l.length;for(;w--;){const C=l[w].optimizeNodes();Array.isArray(C)?l.splice(w,1,...C):C?l[w]=C:l.splice(w,1)}return l.length>0?this:void 0}optimizeNames(l,w){const{nodes:C}=this;let L=C.length;for(;L--;){const H=C[L];H.optimizeNames(l,w)||(Q(l,H.names),C.splice(L,1))}return C.length>0?this:void 0}get names(){return this.nodes.reduce((l,w)=>q(l,w.names),{})}}class N extends P{render(l){return"{"+l._n+super.render(l)+"}"+l._n}}class S extends P{}class y extends N{}y.kind="else";class n extends N{constructor(l,w){super(w),this.condition=l}render(l){let w=`if(${this.condition})`+super.render(l);return this.else&&(w+="else "+this.else.render(l)),w}optimizeNodes(){super.optimizeNodes();const l=this.condition;if(l===!0)return this.nodes;let w=this.else;if(w){const C=w.optimizeNodes();w=this.else=Array.isArray(C)?new y(C):C}if(w)return l===!1?w instanceof n?w:w.nodes:this.nodes.length?this:new n(ee(l),w instanceof n?[w]:w.nodes);if(!(l===!1||!this.nodes.length))return this}optimizeNames(l,w){var C;if(this.else=(C=this.else)===null||C===void 0?void 0:C.optimizeNames(l,w),!!(super.optimizeNames(l,w)||this.else))return this.condition=F(this.condition,l,w),this}get names(){const l=super.names;return K(l,this.condition),this.else&&q(l,this.else.names),l}}n.kind="if";class o extends N{}o.kind="for";class a extends o{constructor(l){super(),this.iteration=l}render(l){return`for(${this.iteration})`+super.render(l)}optimizeNames(l,w){if(super.optimizeNames(l,w))return this.iteration=F(this.iteration,l,w),this}get names(){return q(super.names,this.iteration.names)}}class t extends o{constructor(l,w,C,L){super(),this.varKind=l,this.name=w,this.from=C,this.to=L}render(l){const w=l.es5?h.varKinds.var:this.varKind,{name:C,from:L,to:H}=this;return`for(${w} ${C}=${L}; ${C}<${H}; ${C}++)`+super.render(l)}get names(){const l=K(super.names,this.from);return K(l,this.to)}}class c extends o{constructor(l,w,C,L){super(),this.loop=l,this.varKind=w,this.name=C,this.iterable=L}render(l){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(l)}optimizeNames(l,w){if(super.optimizeNames(l,w))return this.iterable=F(this.iterable,l,w),this}get names(){return q(super.names,this.iterable.names)}}class u extends N{constructor(l,w,C){super(),this.name=l,this.args=w,this.async=C}render(l){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render(l)}}u.kind="func";class v extends P{render(l){return"return "+super.render(l)}}v.kind="return";class b extends N{render(l){let w="try"+super.render(l);return this.catch&&(w+=this.catch.render(l)),this.finally&&(w+=this.finally.render(l)),w}optimizeNodes(){var l,w;return super.optimizeNodes(),(l=this.catch)===null||l===void 0||l.optimizeNodes(),(w=this.finally)===null||w===void 0||w.optimizeNodes(),this}optimizeNames(l,w){var C,L;return super.optimizeNames(l,w),(C=this.catch)===null||C===void 0||C.optimizeNames(l,w),(L=this.finally)===null||L===void 0||L.optimizeNames(l,w),this}get names(){const l=super.names;return this.catch&&q(l,this.catch.names),this.finally&&q(l,this.finally.names),l}}class j extends N{constructor(l){super(),this.error=l}render(l){return`catch(${this.error})`+super.render(l)}}j.kind="catch";class I extends N{render(l){return"finally"+super.render(l)}}I.kind="finally";class D{constructor(l,w={}){this._values={},this._blockStarts=[],this._constants={},this.opts={...w,_n:w.lines?`
`:""},this._extScope=l,this._scope=new h.Scope({parent:l}),this._nodes=[new S]}toString(){return this._root.render(this.opts)}name(l){return this._scope.name(l)}scopeName(l){return this._extScope.name(l)}scopeValue(l,w){const C=this._extScope.value(l,w);return(this._values[C.prefix]||(this._values[C.prefix]=new Set)).add(C),C}getScopeValue(l,w){return this._extScope.getValue(l,w)}scopeRefs(l){return this._extScope.scopeRefs(l,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(l,w,C,L){const H=this._scope.toName(w);return C!==void 0&&L&&(this._constants[H.str]=C),this._leafNode(new i(l,H,C)),H}const(l,w,C){return this._def(h.varKinds.const,l,w,C)}let(l,w,C){return this._def(h.varKinds.let,l,w,C)}var(l,w,C){return this._def(h.varKinds.var,l,w,C)}assign(l,w,C){return this._leafNode(new p(l,w,C))}add(l,w){return this._leafNode(new s(l,e.operators.ADD,w))}code(l){return typeof l=="function"?l():l!==r.nil&&this._leafNode(new E(l)),this}object(...l){const w=["{"];for(const[C,L]of l)w.length>1&&w.push(","),w.push(C),(C!==L||this.opts.es5)&&(w.push(":"),(0,r.addCodeArg)(w,L));return w.push("}"),new r._Code(w)}if(l,w,C){if(this._blockNode(new n(l)),w&&C)this.code(w).else().code(C).endIf();else if(w)this.code(w).endIf();else if(C)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf(l){return this._elseNode(new n(l))}else(){return this._elseNode(new y)}endIf(){return this._endBlockNode(n,y)}_for(l,w){return this._blockNode(l),w&&this.code(w).endFor(),this}for(l,w){return this._for(new a(l),w)}forRange(l,w,C,L,H=this.opts.es5?h.varKinds.var:h.varKinds.let){const Y=this._scope.toName(l);return this._for(new t(H,Y,w,C),()=>L(Y))}forOf(l,w,C,L=h.varKinds.const){const H=this._scope.toName(l);if(this.opts.es5){const Y=w instanceof r.Name?w:this.var("_arr",w);return this.forRange("_i",0,(0,r._)`${Y}.length`,B=>{this.var(H,(0,r._)`${Y}[${B}]`),C(H)})}return this._for(new c("of",L,H,w),()=>C(H))}forIn(l,w,C,L=this.opts.es5?h.varKinds.var:h.varKinds.const){if(this.opts.ownProperties)return this.forOf(l,(0,r._)`Object.keys(${w})`,C);const H=this._scope.toName(l);return this._for(new c("in",L,H,w),()=>C(H))}endFor(){return this._endBlockNode(o)}label(l){return this._leafNode(new d(l))}break(l){return this._leafNode(new _(l))}return(l){const w=new v;if(this._blockNode(w),this.code(l),w.nodes.length!==1)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(v)}try(l,w,C){if(!w&&!C)throw new Error('CodeGen: "try" without "catch" and "finally"');const L=new b;if(this._blockNode(L),this.code(l),w){const H=this.name("e");this._currNode=L.catch=new j(H),w(H)}return C&&(this._currNode=L.finally=new I,this.code(C)),this._endBlockNode(j,I)}throw(l){return this._leafNode(new g(l))}block(l,w){return this._blockStarts.push(this._nodes.length),l&&this.code(l).endBlock(w),this}endBlock(l){const w=this._blockStarts.pop();if(w===void 0)throw new Error("CodeGen: not in self-balancing block");const C=this._nodes.length-w;if(C<0||l!==void 0&&C!==l)throw new Error(`CodeGen: wrong number of nodes: ${C} vs ${l} expected`);return this._nodes.length=w,this}func(l,w=r.nil,C,L){return this._blockNode(new u(l,w,C)),L&&this.code(L).endFunc(),this}endFunc(){return this._endBlockNode(u)}optimize(l=1){for(;l-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(l){return this._currNode.nodes.push(l),this}_blockNode(l){this._currNode.nodes.push(l),this._nodes.push(l)}_endBlockNode(l,w){const C=this._currNode;if(C instanceof l||w&&C instanceof w)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${w?`${l.kind}/${w.kind}`:l.kind}"`)}_elseNode(l){const w=this._currNode;if(!(w instanceof n))throw new Error('CodeGen: "else" without "if"');return this._currNode=w.else=l,this}get _root(){return this._nodes[0]}get _currNode(){const l=this._nodes;return l[l.length-1]}set _currNode(l){const w=this._nodes;w[w.length-1]=l}}e.CodeGen=D;function q(T,l){for(const w in l)T[w]=(T[w]||0)+(l[w]||0);return T}function K(T,l){return l instanceof r._CodeOrName?q(T,l.names):T}function F(T,l,w){if(T instanceof r.Name)return C(T);if(!L(T))return T;return new r._Code(T._items.reduce((H,Y)=>(Y instanceof r.Name&&(Y=C(Y)),Y instanceof r._Code?H.push(...Y._items):H.push(Y),H),[]));function C(H){const Y=w[H.str];return Y===void 0||l[H.str]!==1?H:(delete l[H.str],Y)}function L(H){return H instanceof r._Code&&H._items.some(Y=>Y instanceof r.Name&&l[Y.str]===1&&w[Y.str]!==void 0)}}function Q(T,l){for(const w in l)T[w]=(T[w]||0)-(l[w]||0)}function ee(T){return typeof T=="boolean"||typeof T=="number"||T===null?!T:(0,r._)`!${A(T)}`}e.not=ee;var ce=k(e.operators.AND);function de(...T){return T.reduce(ce)}e.and=de;var Z=k(e.operators.OR);function U(...T){return T.reduce(Z)}e.or=U;function k(T){return(l,w)=>l===r.nil?w:w===r.nil?l:(0,r._)`${A(l)} ${T} ${A(w)}`}function A(T){return T instanceof r.Name?T:(0,r._)`(${T})`}}),X=z(e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.checkStrictMode=e.getErrorPath=e.Type=e.useFunc=e.setEvaluated=e.evaluatedPropsToName=e.mergeEvaluated=e.eachItem=e.unescapeJsonPointer=e.escapeJsonPointer=e.escapeFragment=e.unescapeFragment=e.schemaRefOrVal=e.schemaHasRulesButRef=e.schemaHasRules=e.checkUnknownRules=e.alwaysValidSchema=e.toHash=void 0;var r=W(),h=_e();function f(u){const v={};for(const b of u)v[b]=!0;return v}e.toHash=f;function m(u,v){return typeof v=="boolean"?v:Object.keys(v).length===0?!0:($(u,v),!i(v,u.self.RULES.all))}e.alwaysValidSchema=m;function $(u,v=u.schema){const{opts:b,self:j}=u;if(!b.strictSchema||typeof v=="boolean")return;const I=j.RULES.keywords;for(const D in v)I[D]||c(u,`unknown keyword: "${D}"`)}e.checkUnknownRules=$;function i(u,v){if(typeof u=="boolean")return!u;for(const b in u)if(v[b])return!0;return!1}e.schemaHasRules=i;function p(u,v){if(typeof u=="boolean")return!u;for(const b in u)if(b!=="$ref"&&v.all[b])return!0;return!1}e.schemaHasRulesButRef=p;function s({topSchemaRef:u,schemaPath:v},b,j,I){if(!I){if(typeof b=="number"||typeof b=="boolean")return b;if(typeof b=="string")return(0,r._)`${b}`}return(0,r._)`${u}${v}${(0,r.getProperty)(j)}`}e.schemaRefOrVal=s;function d(u){return E(decodeURIComponent(u))}e.unescapeFragment=d;function _(u){return encodeURIComponent(g(u))}e.escapeFragment=_;function g(u){return typeof u=="number"?`${u}`:u.replace(/~/g,"~0").replace(/\//g,"~1")}e.escapeJsonPointer=g;function E(u){return u.replace(/~1/g,"/").replace(/~0/g,"~")}e.unescapeJsonPointer=E;function P(u,v){if(Array.isArray(u))for(const b of u)v(b);else v(u)}e.eachItem=P;function N({mergeNames:u,mergeToName:v,mergeValues:b,resultToName:j}){return(I,D,q,K)=>{const F=q===void 0?D:q instanceof r.Name?(D instanceof r.Name?u(I,D,q):v(I,D,q),q):D instanceof r.Name?(v(I,q,D),D):b(D,q);return K===r.Name&&!(F instanceof r.Name)?j(I,F):F}}e.mergeEvaluated={props:N({mergeNames:(u,v,b)=>u.if((0,r._)`${b} !== true && ${v} !== undefined`,()=>{u.if((0,r._)`${v} === true`,()=>u.assign(b,!0),()=>u.assign(b,(0,r._)`${b} || {}`).code((0,r._)`Object.assign(${b}, ${v})`))}),mergeToName:(u,v,b)=>u.if((0,r._)`${b} !== true`,()=>{v===!0?u.assign(b,!0):(u.assign(b,(0,r._)`${b} || {}`),y(u,b,v))}),mergeValues:(u,v)=>u===!0?!0:{...u,...v},resultToName:S}),items:N({mergeNames:(u,v,b)=>u.if((0,r._)`${b} !== true && ${v} !== undefined`,()=>u.assign(b,(0,r._)`${v} === true ? true : ${b} > ${v} ? ${b} : ${v}`)),mergeToName:(u,v,b)=>u.if((0,r._)`${b} !== true`,()=>u.assign(b,v===!0?!0:(0,r._)`${b} > ${v} ? ${b} : ${v}`)),mergeValues:(u,v)=>u===!0?!0:Math.max(u,v),resultToName:(u,v)=>u.var("items",v)})};function S(u,v){if(v===!0)return u.var("props",!0);const b=u.var("props",(0,r._)`{}`);return v!==void 0&&y(u,b,v),b}e.evaluatedPropsToName=S;function y(u,v,b){Object.keys(b).forEach(j=>u.assign((0,r._)`${v}${(0,r.getProperty)(j)}`,!0))}e.setEvaluated=y;var n={};function o(u,v){return u.scopeValue("func",{ref:v,code:n[v.code]||(n[v.code]=new h._Code(v.code))})}e.useFunc=o;var a;(function(u){u[u.Num=0]="Num",u[u.Str=1]="Str"})(a||(e.Type=a={}));function t(u,v,b){if(u instanceof r.Name){const j=v===a.Num;return b?j?(0,r._)`"[" + ${u} + "]"`:(0,r._)`"['" + ${u} + "']"`:j?(0,r._)`"/" + ${u}`:(0,r._)`"/" + ${u}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return b?(0,r.getProperty)(u).toString():"/"+g(u)}e.getErrorPath=t;function c(u,v,b=u.opts.strictSchema){if(b){if(v=`strict mode: ${v}`,b===!0)throw new Error(v);u.self.logger.warn(v)}}e.checkStrictMode=c}),fe=z(e=>{Object.defineProperty(e,"__esModule",{value:!0});var r=W(),h={data:new r.Name("data"),valCxt:new r.Name("valCxt"),instancePath:new r.Name("instancePath"),parentData:new r.Name("parentData"),parentDataProperty:new r.Name("parentDataProperty"),rootData:new r.Name("rootData"),dynamicAnchors:new r.Name("dynamicAnchors"),vErrors:new r.Name("vErrors"),errors:new r.Name("errors"),this:new r.Name("this"),self:new r.Name("self"),scope:new r.Name("scope"),json:new r.Name("json"),jsonPos:new r.Name("jsonPos"),jsonLen:new r.Name("jsonLen"),jsonPart:new r.Name("jsonPart")};e.default=h}),$e=z(e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.extendErrors=e.resetErrorsCount=e.reportExtraError=e.reportError=e.keyword$DataError=e.keywordError=void 0;var r=W(),h=X(),f=fe();e.keywordError={message:({keyword:y})=>(0,r.str)`must pass "${y}" keyword validation`},e.keyword$DataError={message:({keyword:y,schemaType:n})=>n?(0,r.str)`"${y}" keyword must be ${n} ($data)`:(0,r.str)`"${y}" keyword is invalid ($data)`};function m(y,n=e.keywordError,o,a){const{it:t}=y,{gen:c,compositeRule:u,allErrors:v}=t,b=g(y,n,o);a??(u||v)?s(c,b):d(t,(0,r._)`[${b}]`)}e.reportError=m;function $(y,n=e.keywordError,o){const{it:a}=y,{gen:t,compositeRule:c,allErrors:u}=a,v=g(y,n,o);s(t,v),c||u||d(a,f.default.vErrors)}e.reportExtraError=$;function i(y,n){y.assign(f.default.errors,n),y.if((0,r._)`${f.default.vErrors} !== null`,()=>y.if(n,()=>y.assign((0,r._)`${f.default.vErrors}.length`,n),()=>y.assign(f.default.vErrors,null)))}e.resetErrorsCount=i;function p({gen:y,keyword:n,schemaValue:o,data:a,errsCount:t,it:c}){if(t===void 0)throw new Error("ajv implementation error");const u=y.name("err");y.forRange("i",t,f.default.errors,v=>{y.const(u,(0,r._)`${f.default.vErrors}[${v}]`),y.if((0,r._)`${u}.instancePath === undefined`,()=>y.assign((0,r._)`${u}.instancePath`,(0,r.strConcat)(f.default.instancePath,c.errorPath))),y.assign((0,r._)`${u}.schemaPath`,(0,r.str)`${c.errSchemaPath}/${n}`),c.opts.verbose&&(y.assign((0,r._)`${u}.schema`,o),y.assign((0,r._)`${u}.data`,a))})}e.extendErrors=p;function s(y,n){const o=y.const("err",n);y.if((0,r._)`${f.default.vErrors} === null`,()=>y.assign(f.default.vErrors,(0,r._)`[${o}]`),(0,r._)`${f.default.vErrors}.push(${o})`),y.code((0,r._)`${f.default.errors}++`)}function d(y,n){const{gen:o,validateName:a,schemaEnv:t}=y;t.$async?o.throw((0,r._)`new ${y.ValidationError}(${n})`):(o.assign((0,r._)`${a}.errors`,n),o.return(!1))}var _={keyword:new r.Name("keyword"),schemaPath:new r.Name("schemaPath"),params:new r.Name("params"),propertyName:new r.Name("propertyName"),message:new r.Name("message"),schema:new r.Name("schema"),parentSchema:new r.Name("parentSchema")};function g(y,n,o){const{createErrors:a}=y.it;return a===!1?(0,r._)`{}`:E(y,n,o)}function E(y,n,o={}){const{gen:a,it:t}=y,c=[P(t,o),N(y,o)];return S(y,n,c),a.object(...c)}function P({errorPath:y},{instancePath:n}){const o=n?(0,r.str)`${y}${(0,h.getErrorPath)(n,h.Type.Str)}`:y;return[f.default.instancePath,(0,r.strConcat)(f.default.instancePath,o)]}function N({keyword:y,it:{errSchemaPath:n}},{schemaPath:o,parentSchema:a}){let t=a?n:(0,r.str)`${n}/${y}`;return o&&(t=(0,r.str)`${t}${(0,h.getErrorPath)(o,h.Type.Str)}`),[_.schemaPath,t]}function S(y,{params:n,message:o},a){const{keyword:t,data:c,schemaValue:u,it:v}=y,{opts:b,propertyName:j,topSchemaRef:I,schemaPath:D}=v;a.push([_.keyword,t],[_.params,typeof n=="function"?n(y):n||(0,r._)`{}`]),b.messages&&a.push([_.message,typeof o=="function"?o(y):o]),b.verbose&&a.push([_.schema,u],[_.parentSchema,(0,r._)`${I}${D}`],[f.default.data,c]),j&&a.push([_.propertyName,j])}}),ur=z(e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.boolOrEmptySchema=e.topBoolOrEmptySchema=void 0;var r=$e(),h=W(),f=fe(),m={message:"boolean schema is false"};function $(s){const{gen:d,schema:_,validateName:g}=s;_===!1?p(s,!1):typeof _=="object"&&_.$async===!0?d.return(f.default.data):(d.assign((0,h._)`${g}.errors`,null),d.return(!0))}e.topBoolOrEmptySchema=$;function i(s,d){const{gen:_,schema:g}=s;g===!1?(_.var(d,!1),p(s)):_.var(d,!0)}e.boolOrEmptySchema=i;function p(s,d){const{gen:_,data:g}=s,E={gen:_,keyword:"false schema",data:g,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:s};(0,r.reportError)(E,m,void 0,d)}}),We=z(e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.getRules=e.isJSONType=void 0;var r=["string","number","integer","boolean","null","object","array"],h=new Set(r);function f($){return typeof $=="string"&&h.has($)}e.isJSONType=f;function m(){const $={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:{...$,integer:!0,boolean:!0,null:!0},rules:[{rules:[]},$.number,$.string,$.array,$.object],post:{rules:[]},all:{},keywords:{}}}e.getRules=m}),Be=z(e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.shouldUseRule=e.shouldUseGroup=e.schemaHasRulesForType=void 0;function r({schema:m,self:$},i){const p=$.RULES.types[i];return p&&p!==!0&&h(m,p)}e.schemaHasRulesForType=r;function h(m,$){return $.rules.some(i=>f(m,i))}e.shouldUseGroup=h;function f(m,$){var i;return m[$.keyword]!==void 0||((i=$.definition.implements)===null||i===void 0?void 0:i.some(p=>m[p]!==void 0))}e.shouldUseRule=f}),ge=z(e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.reportTypeError=e.checkDataTypes=e.checkDataType=e.coerceAndCheckDataType=e.getJSONTypes=e.getSchemaTypes=e.DataType=void 0;var r=We(),h=Be(),f=$e(),m=W(),$=X(),i;(function(a){a[a.Correct=0]="Correct",a[a.Wrong=1]="Wrong"})(i||(e.DataType=i={}));function p(a){const t=s(a.type);if(t.includes("null")){if(a.nullable===!1)throw new Error("type: null contradicts nullable: false")}else{if(!t.length&&a.nullable!==void 0)throw new Error('"nullable" cannot be used without "type"');a.nullable===!0&&t.push("null")}return t}e.getSchemaTypes=p;function s(a){const t=Array.isArray(a)?a:a?[a]:[];if(t.every(r.isJSONType))return t;throw new Error("type must be JSONType or JSONType[]: "+t.join(","))}e.getJSONTypes=s;function d(a,t){const{gen:c,data:u,opts:v}=a,b=g(t,v.coerceTypes),j=t.length>0&&!(b.length===0&&t.length===1&&(0,h.schemaHasRulesForType)(a,t[0]));if(j){const I=S(t,u,v.strictNumbers,i.Wrong);c.if(I,()=>{b.length?E(a,t,b):n(a)})}return j}e.coerceAndCheckDataType=d;var _=new Set(["string","number","integer","boolean","null"]);function g(a,t){return t?a.filter(c=>_.has(c)||t==="array"&&c==="array"):[]}function E(a,t,c){const{gen:u,data:v,opts:b}=a,j=u.let("dataType",(0,m._)`typeof ${v}`),I=u.let("coerced",(0,m._)`undefined`);b.coerceTypes==="array"&&u.if((0,m._)`${j} == 'object' && Array.isArray(${v}) && ${v}.length == 1`,()=>u.assign(v,(0,m._)`${v}[0]`).assign(j,(0,m._)`typeof ${v}`).if(S(t,v,b.strictNumbers),()=>u.assign(I,v))),u.if((0,m._)`${I} !== undefined`);for(const q of c)(_.has(q)||q==="array"&&b.coerceTypes==="array")&&D(q);u.else(),n(a),u.endIf(),u.if((0,m._)`${I} !== undefined`,()=>{u.assign(v,I),P(a,I)});function D(q){switch(q){case"string":u.elseIf((0,m._)`${j} == "number" || ${j} == "boolean"`).assign(I,(0,m._)`"" + ${v}`).elseIf((0,m._)`${v} === null`).assign(I,(0,m._)`""`);return;case"number":u.elseIf((0,m._)`${j} == "boolean" || ${v} === null
              || (${j} == "string" && ${v} && ${v} == +${v})`).assign(I,(0,m._)`+${v}`);return;case"integer":u.elseIf((0,m._)`${j} === "boolean" || ${v} === null
              || (${j} === "string" && ${v} && ${v} == +${v} && !(${v} % 1))`).assign(I,(0,m._)`+${v}`);return;case"boolean":u.elseIf((0,m._)`${v} === "false" || ${v} === 0 || ${v} === null`).assign(I,!1).elseIf((0,m._)`${v} === "true" || ${v} === 1`).assign(I,!0);return;case"null":u.elseIf((0,m._)`${v} === "" || ${v} === 0 || ${v} === false`),u.assign(I,null);return;case"array":u.elseIf((0,m._)`${j} === "string" || ${j} === "number"
              || ${j} === "boolean" || ${v} === null`).assign(I,(0,m._)`[${v}]`)}}}function P({gen:a,parentData:t,parentDataProperty:c},u){a.if((0,m._)`${t} !== undefined`,()=>a.assign((0,m._)`${t}[${c}]`,u))}function N(a,t,c,u=i.Correct){const v=u===i.Correct?m.operators.EQ:m.operators.NEQ;let b;switch(a){case"null":return(0,m._)`${t} ${v} null`;case"array":b=(0,m._)`Array.isArray(${t})`;break;case"object":b=(0,m._)`${t} && typeof ${t} == "object" && !Array.isArray(${t})`;break;case"integer":b=j((0,m._)`!(${t} % 1) && !isNaN(${t})`);break;case"number":b=j();break;default:return(0,m._)`typeof ${t} ${v} ${a}`}return u===i.Correct?b:(0,m.not)(b);function j(I=m.nil){return(0,m.and)((0,m._)`typeof ${t} == "number"`,I,c?(0,m._)`isFinite(${t})`:m.nil)}}e.checkDataType=N;function S(a,t,c,u){if(a.length===1)return N(a[0],t,c,u);let v;const b=(0,$.toHash)(a);if(b.array&&b.object){const j=(0,m._)`typeof ${t} != "object"`;v=b.null?j:(0,m._)`!${t} || ${j}`,delete b.null,delete b.array,delete b.object}else v=m.nil;b.number&&delete b.integer;for(const j in b)v=(0,m.and)(v,N(j,t,c,u));return v}e.checkDataTypes=S;var y={message:({schema:a})=>`must be ${a}`,params:({schema:a,schemaValue:t})=>typeof a=="string"?(0,m._)`{type: ${a}}`:(0,m._)`{type: ${t}}`};function n(a){const t=o(a);(0,f.reportError)(t,y)}e.reportTypeError=n;function o(a){const{gen:t,data:c,schema:u}=a,v=(0,$.schemaRefOrVal)(a,u,"type");return{gen:t,keyword:"type",data:c,schema:u.type,schemaCode:v,schemaValue:v,parentSchema:u,params:{},it:a}}}),lr=z(e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.assignDefaults=void 0;var r=W(),h=X();function f($,i){const{properties:p,items:s}=$.schema;if(i==="object"&&p)for(const d in p)m($,d,p[d].default);else i==="array"&&Array.isArray(s)&&s.forEach((d,_)=>m($,_,d.default))}e.assignDefaults=f;function m($,i,p){const{gen:s,compositeRule:d,data:_,opts:g}=$;if(p===void 0)return;const E=(0,r._)`${_}${(0,r.getProperty)(i)}`;if(d){(0,h.checkStrictMode)($,`default is ignored for: ${E}`);return}let P=(0,r._)`${E} === undefined`;g.useDefaults==="empty"&&(P=(0,r._)`${P} || ${E} === null || ${E} === ""`),s.if(P,(0,r._)`${E} = ${(0,r.stringify)(p)}`)}}),le=z(e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.validateUnion=e.validateArray=e.usePattern=e.callValidateCode=e.schemaProperties=e.allSchemaProperties=e.noPropertyInData=e.propertyInData=e.isOwnProperty=e.hasPropFunc=e.reportMissingProp=e.checkMissingProp=e.checkReportMissingProp=void 0;var r=W(),h=X(),f=fe(),m=X();function $(a,t){const{gen:c,data:u,it:v}=a;c.if(g(c,u,t,v.opts.ownProperties),()=>{a.setParams({missingProperty:(0,r._)`${t}`},!0),a.error()})}e.checkReportMissingProp=$;function i({gen:a,data:t,it:{opts:c}},u,v){return(0,r.or)(...u.map(b=>(0,r.and)(g(a,t,b,c.ownProperties),(0,r._)`${v} = ${b}`)))}e.checkMissingProp=i;function p(a,t){a.setParams({missingProperty:t},!0),a.error()}e.reportMissingProp=p;function s(a){return a.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:(0,r._)`Object.prototype.hasOwnProperty`})}e.hasPropFunc=s;function d(a,t,c){return(0,r._)`${s(a)}.call(${t}, ${c})`}e.isOwnProperty=d;function _(a,t,c,u){const v=(0,r._)`${t}${(0,r.getProperty)(c)} !== undefined`;return u?(0,r._)`${v} && ${d(a,t,c)}`:v}e.propertyInData=_;function g(a,t,c,u){const v=(0,r._)`${t}${(0,r.getProperty)(c)} === undefined`;return u?(0,r.or)(v,(0,r.not)(d(a,t,c))):v}e.noPropertyInData=g;function E(a){return a?Object.keys(a).filter(t=>t!=="__proto__"):[]}e.allSchemaProperties=E;function P(a,t){return E(t).filter(c=>!(0,h.alwaysValidSchema)(a,t[c]))}e.schemaProperties=P;function N({schemaCode:a,data:t,it:{gen:c,topSchemaRef:u,schemaPath:v,errorPath:b},it:j},I,D,q){const K=q?(0,r._)`${a}, ${t}, ${u}${v}`:t,F=[[f.default.instancePath,(0,r.strConcat)(f.default.instancePath,b)],[f.default.parentData,j.parentData],[f.default.parentDataProperty,j.parentDataProperty],[f.default.rootData,f.default.rootData]];j.opts.dynamicRef&&F.push([f.default.dynamicAnchors,f.default.dynamicAnchors]);const Q=(0,r._)`${K}, ${c.object(...F)}`;return D!==r.nil?(0,r._)`${I}.call(${D}, ${Q})`:(0,r._)`${I}(${Q})`}e.callValidateCode=N;var S=(0,r._)`new RegExp`;function y({gen:a,it:{opts:t}},c){const u=t.unicodeRegExp?"u":"",{regExp:v}=t.code,b=v(c,u);return a.scopeValue("pattern",{key:b.toString(),ref:b,code:(0,r._)`${v.code==="new RegExp"?S:(0,m.useFunc)(a,v)}(${c}, ${u})`})}e.usePattern=y;function n(a){const{gen:t,data:c,keyword:u,it:v}=a,b=t.name("valid");if(v.allErrors){const I=t.let("valid",!0);return j(()=>t.assign(I,!1)),I}return t.var(b,!0),j(()=>t.break()),b;function j(I){const D=t.const("len",(0,r._)`${c}.length`);t.forRange("i",0,D,q=>{a.subschema({keyword:u,dataProp:q,dataPropType:h.Type.Num},b),t.if((0,r.not)(b),I)})}}e.validateArray=n;function o(a){const{gen:t,schema:c,keyword:u,it:v}=a;if(!Array.isArray(c))throw new Error("ajv implementation error");if(c.some(D=>(0,h.alwaysValidSchema)(v,D))&&!v.opts.unevaluated)return;const j=t.let("valid",!1),I=t.name("_valid");t.block(()=>c.forEach((D,q)=>{const K=a.subschema({keyword:u,schemaProp:q,compositeRule:!0},I);t.assign(j,(0,r._)`${j} || ${I}`),a.mergeValidEvaluated(K,I)||t.if((0,r.not)(j))})),a.result(j,()=>a.reset(),()=>a.error(!0))}e.validateUnion=o}),cr=z(e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.validateKeywordUsage=e.validSchemaType=e.funcKeywordCode=e.macroKeywordCode=void 0;var r=W(),h=fe(),f=le(),m=$e();function $(P,N){const{gen:S,keyword:y,schema:n,parentSchema:o,it:a}=P,t=N.macro.call(a.self,n,o,a),c=_(S,y,t);a.opts.validateSchema!==!1&&a.self.validateSchema(t,!0);const u=S.name("valid");P.subschema({schema:t,schemaPath:r.nil,errSchemaPath:`${a.errSchemaPath}/${y}`,topSchemaRef:c,compositeRule:!0},u),P.pass(u,()=>P.error(!0))}e.macroKeywordCode=$;function i(P,N){var S;const{gen:y,keyword:n,schema:o,parentSchema:a,$data:t,it:c}=P;d(c,N);const u=!t&&N.compile?N.compile.call(c.self,o,a,c):N.validate,v=_(y,n,u),b=y.let("valid");P.block$data(b,j),P.ok((S=N.valid)!==null&&S!==void 0?S:b);function j(){if(N.errors===!1)q(),N.modifying&&p(P),K(()=>P.error());else{const F=N.async?I():D();N.modifying&&p(P),K(()=>s(P,F))}}function I(){const F=y.let("ruleErrs",null);return y.try(()=>q((0,r._)`await `),Q=>y.assign(b,!1).if((0,r._)`${Q} instanceof ${c.ValidationError}`,()=>y.assign(F,(0,r._)`${Q}.errors`),()=>y.throw(Q))),F}function D(){const F=(0,r._)`${v}.errors`;return y.assign(F,null),q(r.nil),F}function q(F=N.async?(0,r._)`await `:r.nil){const Q=c.opts.passContext?h.default.this:h.default.self,ee=!("compile"in N&&!t||N.schema===!1);y.assign(b,(0,r._)`${F}${(0,f.callValidateCode)(P,v,Q,ee)}`,N.modifying)}function K(F){var Q;y.if((0,r.not)((Q=N.valid)!==null&&Q!==void 0?Q:b),F)}}e.funcKeywordCode=i;function p(P){const{gen:N,data:S,it:y}=P;N.if(y.parentData,()=>N.assign(S,(0,r._)`${y.parentData}[${y.parentDataProperty}]`))}function s(P,N){const{gen:S}=P;S.if((0,r._)`Array.isArray(${N})`,()=>{S.assign(h.default.vErrors,(0,r._)`${h.default.vErrors} === null ? ${N} : ${h.default.vErrors}.concat(${N})`).assign(h.default.errors,(0,r._)`${h.default.vErrors}.length`),(0,m.extendErrors)(P)},()=>P.error())}function d({schemaEnv:P},N){if(N.async&&!P.$async)throw new Error("async keyword in sync schema")}function _(P,N,S){if(S===void 0)throw new Error(`keyword "${N}" failed to compile`);return P.scopeValue("keyword",typeof S=="function"?{ref:S}:{ref:S,code:(0,r.stringify)(S)})}function g(P,N,S=!1){return!N.length||N.some(y=>y==="array"?Array.isArray(P):y==="object"?P&&typeof P=="object"&&!Array.isArray(P):typeof P==y||S&&typeof P>"u")}e.validSchemaType=g;function E({schema:P,opts:N,self:S,errSchemaPath:y},n,o){if(Array.isArray(n.keyword)?!n.keyword.includes(o):n.keyword!==o)throw new Error("ajv implementation error");const a=n.dependencies;if(a!=null&&a.some(t=>!Object.prototype.hasOwnProperty.call(P,t)))throw new Error(`parent schema must have dependencies of ${o}: ${a.join(",")}`);if(n.validateSchema&&!n.validateSchema(P[o])){const c=`keyword "${o}" value is invalid at path "${y}": `+S.errorsText(n.validateSchema.errors);if(N.validateSchema==="log")S.logger.error(c);else throw new Error(c)}}e.validateKeywordUsage=E}),dr=z(e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.extendSubschemaMode=e.extendSubschemaData=e.getSubschema=void 0;var r=W(),h=X();function f(i,{keyword:p,schemaProp:s,schema:d,schemaPath:_,errSchemaPath:g,topSchemaRef:E}){if(p!==void 0&&d!==void 0)throw new Error('both "keyword" and "schema" passed, only one allowed');if(p!==void 0){const P=i.schema[p];return s===void 0?{schema:P,schemaPath:(0,r._)`${i.schemaPath}${(0,r.getProperty)(p)}`,errSchemaPath:`${i.errSchemaPath}/${p}`}:{schema:P[s],schemaPath:(0,r._)`${i.schemaPath}${(0,r.getProperty)(p)}${(0,r.getProperty)(s)}`,errSchemaPath:`${i.errSchemaPath}/${p}/${(0,h.escapeFragment)(s)}`}}if(d!==void 0){if(_===void 0||g===void 0||E===void 0)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:d,schemaPath:_,topSchemaRef:E,errSchemaPath:g}}throw new Error('either "keyword" or "schema" must be passed')}e.getSubschema=f;function m(i,p,{dataProp:s,dataPropType:d,data:_,dataTypes:g,propertyName:E}){if(_!==void 0&&s!==void 0)throw new Error('both "data" and "dataProp" passed, only one allowed');const{gen:P}=p;if(s!==void 0){const{errorPath:S,dataPathArr:y,opts:n}=p,o=P.let("data",(0,r._)`${p.data}${(0,r.getProperty)(s)}`,!0);N(o),i.errorPath=(0,r.str)`${S}${(0,h.getErrorPath)(s,d,n.jsPropertySyntax)}`,i.parentDataProperty=(0,r._)`${s}`,i.dataPathArr=[...y,i.parentDataProperty]}if(_!==void 0){const S=_ instanceof r.Name?_:P.let("data",_,!0);N(S),E!==void 0&&(i.propertyName=E)}g&&(i.dataTypes=g);function N(S){i.data=S,i.dataLevel=p.dataLevel+1,i.dataTypes=[],p.definedProperties=new Set,i.parentData=p.data,i.dataNames=[...p.dataNames,S]}}e.extendSubschemaData=m;function $(i,{jtdDiscriminator:p,jtdMetadata:s,compositeRule:d,createErrors:_,allErrors:g}){d!==void 0&&(i.compositeRule=d),_!==void 0&&(i.createErrors=_),g!==void 0&&(i.allErrors=g),i.jtdDiscriminator=p,i.jtdMetadata=s}e.extendSubschemaMode=$}),Qe=z((e,r)=>{r.exports=function h(f,m){if(f===m)return!0;if(f&&m&&typeof f=="object"&&typeof m=="object"){if(f.constructor!==m.constructor)return!1;var $,i,p;if(Array.isArray(f)){if($=f.length,$!=m.length)return!1;for(i=$;i--!==0;)if(!h(f[i],m[i]))return!1;return!0}if(f.constructor===RegExp)return f.source===m.source&&f.flags===m.flags;if(f.valueOf!==Object.prototype.valueOf)return f.valueOf()===m.valueOf();if(f.toString!==Object.prototype.toString)return f.toString()===m.toString();if(p=Object.keys(f),$=p.length,$!==Object.keys(m).length)return!1;for(i=$;i--!==0;)if(!Object.prototype.hasOwnProperty.call(m,p[i]))return!1;for(i=$;i--!==0;){var s=p[i];if(!h(f[s],m[s]))return!1}return!0}return f!==f&&m!==m}}),fr=z((e,r)=>{var h=r.exports=function($,i,p){typeof i=="function"&&(p=i,i={}),p=i.cb||p;var s=typeof p=="function"?p:p.pre||function(){},d=p.post||function(){};f(i,s,d,$,"",$)};h.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0},h.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0},h.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0},h.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};function f($,i,p,s,d,_,g,E,P,N){if(s&&typeof s=="object"&&!Array.isArray(s)){i(s,d,_,g,E,P,N);for(var S in s){var y=s[S];if(Array.isArray(y)){if(S in h.arrayKeywords)for(var n=0;n<y.length;n++)f($,i,p,y[n],d+"/"+S+"/"+n,_,d,S,s,n)}else if(S in h.propsKeywords){if(y&&typeof y=="object")for(var o in y)f($,i,p,y[o],d+"/"+S+"/"+m(o),_,d,S,s,o)}else(S in h.keywords||$.allKeys&&!(S in h.skipKeywords))&&f($,i,p,y,d+"/"+S,_,d,S,s)}p(s,d,_,g,E,P,N)}}function m($){return $.replace(/~/g,"~0").replace(/\//g,"~1")}}),we=z(e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.getSchemaRefs=e.resolveUrl=e.normalizeId=e._getFullPath=e.getFullPath=e.inlineRef=void 0;var r=X(),h=Qe(),f=fr(),m=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);function $(y,n=!0){return typeof y=="boolean"?!0:n===!0?!p(y):n?s(y)<=n:!1}e.inlineRef=$;var i=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function p(y){for(const n in y){if(i.has(n))return!0;const o=y[n];if(Array.isArray(o)&&o.some(p)||typeof o=="object"&&p(o))return!0}return!1}function s(y){let n=0;for(const o in y){if(o==="$ref")return 1/0;if(n++,!m.has(o)&&(typeof y[o]=="object"&&(0,r.eachItem)(y[o],a=>n+=s(a)),n===1/0))return 1/0}return n}function d(y,n="",o){o!==!1&&(n=E(n));const a=y.parse(n);return _(y,a)}e.getFullPath=d;function _(y,n){return y.serialize(n).split("#")[0]+"#"}e._getFullPath=_;var g=/#\/?$/;function E(y){return y?y.replace(g,""):""}e.normalizeId=E;function P(y,n,o){return o=E(o),y.resolve(n,o)}e.resolveUrl=P;var N=/^[a-z_][-a-z0-9._]*$/i;function S(y,n){if(typeof y=="boolean")return{};const{schemaId:o,uriResolver:a}=this.opts,t=E(y[o]||n),c={"":t},u=d(a,t,!1),v={},b=new Set;return f(y,{allKeys:!0},(D,q,K,F)=>{if(F===void 0)return;const Q=u+q;let ee=c[F];typeof D[o]=="string"&&(ee=ce.call(this,D[o])),de.call(this,D.$anchor),de.call(this,D.$dynamicAnchor),c[q]=ee;function ce(Z){const U=this.opts.uriResolver.resolve;if(Z=E(ee?U(ee,Z):Z),b.has(Z))throw I(Z);b.add(Z);let k=this.refs[Z];return typeof k=="string"&&(k=this.refs[k]),typeof k=="object"?j(D,k.schema,Z):Z!==E(Q)&&(Z[0]==="#"?(j(D,v[Z],Z),v[Z]=D):this.refs[Z]=Q),Z}function de(Z){if(typeof Z=="string"){if(!N.test(Z))throw new Error(`invalid anchor "${Z}"`);ce.call(this,`#${Z}`)}}}),v;function j(D,q,K){if(q!==void 0&&!h(D,q))throw I(K)}function I(D){return new Error(`reference "${D}" resolves to more than one schema`)}}e.getSchemaRefs=S}),be=z(e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.getData=e.KeywordCxt=e.validateFunctionCode=void 0;var r=ur(),h=ge(),f=Be(),m=ge(),$=lr(),i=cr(),p=dr(),s=W(),d=fe(),_=we(),g=X(),E=$e();function P(O){if(u(O)&&(b(O),c(O))){n(O);return}N(O,()=>(0,r.topBoolOrEmptySchema)(O))}e.validateFunctionCode=P;function N({gen:O,validateName:R,schema:M,schemaEnv:V,opts:G},J){G.code.es5?O.func(R,(0,s._)`${d.default.data}, ${d.default.valCxt}`,V.$async,()=>{O.code((0,s._)`"use strict"; ${a(M,G)}`),y(O,G),O.code(J)}):O.func(R,(0,s._)`${d.default.data}, ${S(G)}`,V.$async,()=>O.code(a(M,G)).code(J))}function S(O){return(0,s._)`{${d.default.instancePath}="", ${d.default.parentData}, ${d.default.parentDataProperty}, ${d.default.rootData}=${d.default.data}${O.dynamicRef?(0,s._)`, ${d.default.dynamicAnchors}={}`:s.nil}}={}`}function y(O,R){O.if(d.default.valCxt,()=>{O.var(d.default.instancePath,(0,s._)`${d.default.valCxt}.${d.default.instancePath}`),O.var(d.default.parentData,(0,s._)`${d.default.valCxt}.${d.default.parentData}`),O.var(d.default.parentDataProperty,(0,s._)`${d.default.valCxt}.${d.default.parentDataProperty}`),O.var(d.default.rootData,(0,s._)`${d.default.valCxt}.${d.default.rootData}`),R.dynamicRef&&O.var(d.default.dynamicAnchors,(0,s._)`${d.default.valCxt}.${d.default.dynamicAnchors}`)},()=>{O.var(d.default.instancePath,(0,s._)`""`),O.var(d.default.parentData,(0,s._)`undefined`),O.var(d.default.parentDataProperty,(0,s._)`undefined`),O.var(d.default.rootData,d.default.data),R.dynamicRef&&O.var(d.default.dynamicAnchors,(0,s._)`{}`)})}function n(O){const{schema:R,opts:M,gen:V}=O;N(O,()=>{M.$comment&&R.$comment&&F(O),D(O),V.let(d.default.vErrors,null),V.let(d.default.errors,0),M.unevaluated&&o(O),j(O),Q(O)})}function o(O){const{gen:R,validateName:M}=O;O.evaluated=R.const("evaluated",(0,s._)`${M}.evaluated`),R.if((0,s._)`${O.evaluated}.dynamicProps`,()=>R.assign((0,s._)`${O.evaluated}.props`,(0,s._)`undefined`)),R.if((0,s._)`${O.evaluated}.dynamicItems`,()=>R.assign((0,s._)`${O.evaluated}.items`,(0,s._)`undefined`))}function a(O,R){const M=typeof O=="object"&&O[R.schemaId];return M&&(R.code.source||R.code.process)?(0,s._)`/*# sourceURL=${M} */`:s.nil}function t(O,R){if(u(O)&&(b(O),c(O))){v(O,R);return}(0,r.boolOrEmptySchema)(O,R)}function c({schema:O,self:R}){if(typeof O=="boolean")return!O;for(const M in O)if(R.RULES.all[M])return!0;return!1}function u(O){return typeof O.schema!="boolean"}function v(O,R){const{schema:M,gen:V,opts:G}=O;G.$comment&&M.$comment&&F(O),q(O),K(O);const J=V.const("_errs",d.default.errors);j(O,J),V.var(R,(0,s._)`${J} === ${d.default.errors}`)}function b(O){(0,g.checkUnknownRules)(O),I(O)}function j(O,R){if(O.opts.jtd)return ce(O,[],!1,R);const M=(0,h.getSchemaTypes)(O.schema),V=(0,h.coerceAndCheckDataType)(O,M);ce(O,M,!V,R)}function I(O){const{schema:R,errSchemaPath:M,opts:V,self:G}=O;R.$ref&&V.ignoreKeywordsWithRef&&(0,g.schemaHasRulesButRef)(R,G.RULES)&&G.logger.warn(`$ref: keywords ignored in schema at path "${M}"`)}function D(O){const{schema:R,opts:M}=O;R.default!==void 0&&M.useDefaults&&M.strictSchema&&(0,g.checkStrictMode)(O,"default is ignored in the schema root")}function q(O){const R=O.schema[O.opts.schemaId];R&&(O.baseId=(0,_.resolveUrl)(O.opts.uriResolver,O.baseId,R))}function K(O){if(O.schema.$async&&!O.schemaEnv.$async)throw new Error("async schema in sync schema")}function F({gen:O,schemaEnv:R,schema:M,errSchemaPath:V,opts:G}){const J=M.$comment;if(G.$comment===!0)O.code((0,s._)`${d.default.self}.logger.log(${J})`);else if(typeof G.$comment=="function"){const re=(0,s.str)`${V}/$comment`,ue=O.scopeValue("root",{ref:R.root});O.code((0,s._)`${d.default.self}.opts.$comment(${J}, ${re}, ${ue}.schema)`)}}function Q(O){const{gen:R,schemaEnv:M,validateName:V,ValidationError:G,opts:J}=O;M.$async?R.if((0,s._)`${d.default.errors} === 0`,()=>R.return(d.default.data),()=>R.throw((0,s._)`new ${G}(${d.default.vErrors})`)):(R.assign((0,s._)`${V}.errors`,d.default.vErrors),J.unevaluated&&ee(O),R.return((0,s._)`${d.default.errors} === 0`))}function ee({gen:O,evaluated:R,props:M,items:V}){M instanceof s.Name&&O.assign((0,s._)`${R}.props`,M),V instanceof s.Name&&O.assign((0,s._)`${R}.items`,V)}function ce(O,R,M,V){const{gen:G,schema:J,data:re,allErrors:ue,opts:ie,self:se}=O,{RULES:te}=se;if(J.$ref&&(ie.ignoreKeywordsWithRef||!(0,g.schemaHasRulesButRef)(J,te))){G.block(()=>H(O,"$ref",te.all.$ref.definition));return}ie.jtd||Z(O,R),G.block(()=>{for(const oe of te.rules)me(oe);me(te.post)});function me(oe){(0,f.shouldUseGroup)(J,oe)&&(oe.type?(G.if((0,m.checkDataType)(oe.type,re,ie.strictNumbers)),de(O,oe),R.length===1&&R[0]===oe.type&&M&&(G.else(),(0,m.reportTypeError)(O)),G.endIf()):de(O,oe),ue||G.if((0,s._)`${d.default.errors} === ${V||0}`))}}function de(O,R){const{gen:M,schema:V,opts:{useDefaults:G}}=O;G&&(0,$.assignDefaults)(O,R.type),M.block(()=>{for(const J of R.rules)(0,f.shouldUseRule)(V,J)&&H(O,J.keyword,J.definition,R.type)})}function Z(O,R){O.schemaEnv.meta||!O.opts.strictTypes||(U(O,R),O.opts.allowUnionTypes||k(O,R),A(O,O.dataTypes))}function U(O,R){if(R.length){if(!O.dataTypes.length){O.dataTypes=R;return}R.forEach(M=>{l(O.dataTypes,M)||C(O,`type "${M}" not allowed by context "${O.dataTypes.join(",")}"`)}),w(O,R)}}function k(O,R){R.length>1&&!(R.length===2&&R.includes("null"))&&C(O,"use allowUnionTypes to allow union type keyword")}function A(O,R){const M=O.self.RULES.all;for(const V in M){const G=M[V];if(typeof G=="object"&&(0,f.shouldUseRule)(O.schema,G)){const{type:J}=G.definition;J.length&&!J.some(re=>T(R,re))&&C(O,`missing type "${J.join(",")}" for keyword "${V}"`)}}}function T(O,R){return O.includes(R)||R==="number"&&O.includes("integer")}function l(O,R){return O.includes(R)||R==="integer"&&O.includes("number")}function w(O,R){const M=[];for(const V of O.dataTypes)l(R,V)?M.push(V):R.includes("integer")&&V==="number"&&M.push("integer");O.dataTypes=M}function C(O,R){const M=O.schemaEnv.baseId+O.errSchemaPath;R+=` at "${M}" (strictTypes)`,(0,g.checkStrictMode)(O,R,O.opts.strictTypes)}class L{constructor(R,M,V){if((0,i.validateKeywordUsage)(R,M,V),this.gen=R.gen,this.allErrors=R.allErrors,this.keyword=V,this.data=R.data,this.schema=R.schema[V],this.$data=M.$data&&R.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,g.schemaRefOrVal)(R,this.schema,V,this.$data),this.schemaType=M.schemaType,this.parentSchema=R.schema,this.params={},this.it=R,this.def=M,this.$data)this.schemaCode=R.gen.const("vSchema",x(this.$data,R));else if(this.schemaCode=this.schemaValue,!(0,i.validSchemaType)(this.schema,M.schemaType,M.allowUndefined))throw new Error(`${V} value must be ${JSON.stringify(M.schemaType)}`);("code"in M?M.trackErrors:M.errors!==!1)&&(this.errsCount=R.gen.const("_errs",d.default.errors))}result(R,M,V){this.failResult((0,s.not)(R),M,V)}failResult(R,M,V){this.gen.if(R),V?V():this.error(),M?(this.gen.else(),M(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(R,M){this.failResult((0,s.not)(R),void 0,M)}fail(R){if(R===void 0){this.error(),this.allErrors||this.gen.if(!1);return}this.gen.if(R),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(R){if(!this.$data)return this.fail(R);const{schemaCode:M}=this;this.fail((0,s._)`${M} !== undefined && (${(0,s.or)(this.invalid$data(),R)})`)}error(R,M,V){if(M){this.setParams(M),this._error(R,V),this.setParams({});return}this._error(R,V)}_error(R,M){(R?E.reportExtraError:E.reportError)(this,this.def.error,M)}$dataError(){(0,E.reportError)(this,this.def.$dataError||E.keyword$DataError)}reset(){if(this.errsCount===void 0)throw new Error('add "trackErrors" to keyword definition');(0,E.resetErrorsCount)(this.gen,this.errsCount)}ok(R){this.allErrors||this.gen.if(R)}setParams(R,M){M?Object.assign(this.params,R):this.params=R}block$data(R,M,V=s.nil){this.gen.block(()=>{this.check$data(R,V),M()})}check$data(R=s.nil,M=s.nil){if(!this.$data)return;const{gen:V,schemaCode:G,schemaType:J,def:re}=this;V.if((0,s.or)((0,s._)`${G} === undefined`,M)),R!==s.nil&&V.assign(R,!0),(J.length||re.validateSchema)&&(V.elseIf(this.invalid$data()),this.$dataError(),R!==s.nil&&V.assign(R,!1)),V.else()}invalid$data(){const{gen:R,schemaCode:M,schemaType:V,def:G,it:J}=this;return(0,s.or)(re(),ue());function re(){if(V.length){if(!(M instanceof s.Name))throw new Error("ajv implementation error");const ie=Array.isArray(V)?V:[V];return(0,s._)`${(0,m.checkDataTypes)(ie,M,J.opts.strictNumbers,m.DataType.Wrong)}`}return s.nil}function ue(){if(G.validateSchema){const ie=R.scopeValue("validate$data",{ref:G.validateSchema});return(0,s._)`!${ie}(${M})`}return s.nil}}subschema(R,M){const V=(0,p.getSubschema)(this.it,R);(0,p.extendSubschemaData)(V,this.it,R),(0,p.extendSubschemaMode)(V,R);const G={...this.it,...V,items:void 0,props:void 0};return t(G,M),G}mergeEvaluated(R,M){const{it:V,gen:G}=this;V.opts.unevaluated&&(V.props!==!0&&R.props!==void 0&&(V.props=g.mergeEvaluated.props(G,R.props,V.props,M)),V.items!==!0&&R.items!==void 0&&(V.items=g.mergeEvaluated.items(G,R.items,V.items,M)))}mergeValidEvaluated(R,M){const{it:V,gen:G}=this;if(V.opts.unevaluated&&(V.props!==!0||V.items!==!0))return G.if(M,()=>this.mergeEvaluated(R,s.Name)),!0}}e.KeywordCxt=L;function H(O,R,M,V){const G=new L(O,M,R);"code"in M?M.code(G,V):G.$data&&M.validate?(0,i.funcKeywordCode)(G,M):"macro"in M?(0,i.macroKeywordCode)(G,M):(M.compile||M.validate)&&(0,i.funcKeywordCode)(G,M)}var Y=/^\/(?:[^~]|~0|~1)*$/,B=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function x(O,{dataLevel:R,dataNames:M,dataPathArr:V}){let G,J;if(O==="")return d.default.rootData;if(O[0]==="/"){if(!Y.test(O))throw new Error(`Invalid JSON-pointer: ${O}`);G=O,J=d.default.rootData}else{const se=B.exec(O);if(!se)throw new Error(`Invalid JSON-pointer: ${O}`);const te=+se[1];if(G=se[2],G==="#"){if(te>=R)throw new Error(ie("property/index",te));return V[R-te]}if(te>R)throw new Error(ie("data",te));if(J=M[R-te],!G)return J}let re=J;const ue=G.split("/");for(const se of ue)se&&(J=(0,s._)`${J}${(0,s.getProperty)((0,g.unescapeJsonPointer)(se))}`,re=(0,s._)`${re} && ${J}`);return re;function ie(se,te){return`Cannot access ${se} ${te} levels up, current level is ${R}`}}e.getData=x}),Ie=z(e=>{Object.defineProperty(e,"__esModule",{value:!0});class r extends Error{constructor(f){super("validation failed"),this.errors=f,this.ajv=this.validation=!0}}e.default=r}),Ee=z(e=>{Object.defineProperty(e,"__esModule",{value:!0});var r=we();class h extends Error{constructor(m,$,i,p){super(p||`can't resolve reference ${i} from id ${$}`),this.missingRef=(0,r.resolveUrl)(m,$,i),this.missingSchema=(0,r.normalizeId)((0,r.getFullPath)(m,this.missingRef))}}e.default=h}),Ce=z(e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.resolveSchema=e.getCompilingSchema=e.resolveRef=e.compileSchema=e.SchemaEnv=void 0;var r=W(),h=Ie(),f=fe(),m=we(),$=X(),i=be();class p{constructor(o){var a;this.refs={},this.dynamicAnchors={};let t;typeof o.schema=="object"&&(t=o.schema),this.schema=o.schema,this.schemaId=o.schemaId,this.root=o.root||this,this.baseId=(a=o.baseId)!==null&&a!==void 0?a:(0,m.normalizeId)(t==null?void 0:t[o.schemaId||"$id"]),this.schemaPath=o.schemaPath,this.localRefs=o.localRefs,this.meta=o.meta,this.$async=t==null?void 0:t.$async,this.refs={}}}e.SchemaEnv=p;function s(n){const o=g.call(this,n);if(o)return o;const a=(0,m.getFullPath)(this.opts.uriResolver,n.root.baseId),{es5:t,lines:c}=this.opts.code,{ownProperties:u}=this.opts,v=new r.CodeGen(this.scope,{es5:t,lines:c,ownProperties:u});let b;n.$async&&(b=v.scopeValue("Error",{ref:h.default,code:(0,r._)`require("ajv/dist/runtime/validation_error").default`}));const j=v.scopeName("validate");n.validateName=j;const I={gen:v,allErrors:this.opts.allErrors,data:f.default.data,parentData:f.default.parentData,parentDataProperty:f.default.parentDataProperty,dataNames:[f.default.data],dataPathArr:[r.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:v.scopeValue("schema",this.opts.code.source===!0?{ref:n.schema,code:(0,r.stringify)(n.schema)}:{ref:n.schema}),validateName:j,ValidationError:b,schema:n.schema,schemaEnv:n,rootId:a,baseId:n.baseId||a,schemaPath:r.nil,errSchemaPath:n.schemaPath||(this.opts.jtd?"":"#"),errorPath:(0,r._)`""`,opts:this.opts,self:this};let D;try{this._compilations.add(n),(0,i.validateFunctionCode)(I),v.optimize(this.opts.code.optimize);const q=v.toString();D=`${v.scopeRefs(f.default.scope)}return ${q}`,this.opts.code.process&&(D=this.opts.code.process(D,n));const F=new Function(`${f.default.self}`,`${f.default.scope}`,D)(this,this.scope.get());if(this.scope.value(j,{ref:F}),F.errors=null,F.schema=n.schema,F.schemaEnv=n,n.$async&&(F.$async=!0),this.opts.code.source===!0&&(F.source={validateName:j,validateCode:q,scopeValues:v._values}),this.opts.unevaluated){const{props:Q,items:ee}=I;F.evaluated={props:Q instanceof r.Name?void 0:Q,items:ee instanceof r.Name?void 0:ee,dynamicProps:Q instanceof r.Name,dynamicItems:ee instanceof r.Name},F.source&&(F.source.evaluated=(0,r.stringify)(F.evaluated))}return n.validate=F,n}catch(q){throw delete n.validate,delete n.validateName,D&&this.logger.error("Error compiling schema, function code:",D),q}finally{this._compilations.delete(n)}}e.compileSchema=s;function d(n,o,a){var t;a=(0,m.resolveUrl)(this.opts.uriResolver,o,a);const c=n.refs[a];if(c)return c;let u=P.call(this,n,a);if(u===void 0){const v=(t=n.localRefs)===null||t===void 0?void 0:t[a],{schemaId:b}=this.opts;v&&(u=new p({schema:v,schemaId:b,root:n,baseId:o}))}if(u!==void 0)return n.refs[a]=_.call(this,u)}e.resolveRef=d;function _(n){return(0,m.inlineRef)(n.schema,this.opts.inlineRefs)?n.schema:n.validate?n:s.call(this,n)}function g(n){for(const o of this._compilations)if(E(o,n))return o}e.getCompilingSchema=g;function E(n,o){return n.schema===o.schema&&n.root===o.root&&n.baseId===o.baseId}function P(n,o){let a;for(;typeof(a=this.refs[o])=="string";)o=a;return a||this.schemas[o]||N.call(this,n,o)}function N(n,o){const a=this.opts.uriResolver.parse(o),t=(0,m._getFullPath)(this.opts.uriResolver,a);let c=(0,m.getFullPath)(this.opts.uriResolver,n.baseId,void 0);if(Object.keys(n.schema).length>0&&t===c)return y.call(this,a,n);const u=(0,m.normalizeId)(t),v=this.refs[u]||this.schemas[u];if(typeof v=="string"){const b=N.call(this,n,v);return typeof(b==null?void 0:b.schema)!="object"?void 0:y.call(this,a,b)}if(typeof(v==null?void 0:v.schema)=="object"){if(v.validate||s.call(this,v),u===(0,m.normalizeId)(o)){const{schema:b}=v,{schemaId:j}=this.opts,I=b[j];return I&&(c=(0,m.resolveUrl)(this.opts.uriResolver,c,I)),new p({schema:b,schemaId:j,root:n,baseId:c})}return y.call(this,a,v)}}e.resolveSchema=N;var S=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function y(n,{baseId:o,schema:a,root:t}){var c;if(((c=n.fragment)===null||c===void 0?void 0:c[0])!=="/")return;for(const b of n.fragment.slice(1).split("/")){if(typeof a=="boolean")return;const j=a[(0,$.unescapeFragment)(b)];if(j===void 0)return;a=j;const I=typeof a=="object"&&a[this.opts.schemaId];!S.has(b)&&I&&(o=(0,m.resolveUrl)(this.opts.uriResolver,o,I))}let u;if(typeof a!="boolean"&&a.$ref&&!(0,$.schemaHasRulesButRef)(a,this.RULES)){const b=(0,m.resolveUrl)(this.opts.uriResolver,o,a.$ref);u=N.call(this,t,b)}const{schemaId:v}=this.opts;if(u=u||new p({schema:a,schemaId:v,root:t,baseId:o}),u.schema!==u.root.schema)return u}}),hr=z((e,r)=>{r.exports={$id:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",description:"Meta-schema for $data reference (JSON AnySchema extension proposal)",type:"object",required:["$data"],properties:{$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},additionalProperties:!1}}),mr=z((e,r)=>{var h={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,a:10,A:10,b:11,B:11,c:12,C:12,d:13,D:13,e:14,E:14,f:15,F:15};r.exports={HEX:h}}),pr=z((e,r)=>{var{HEX:h}=mr(),f=/^(?:(?:25[0-5]|2[0-4]\d|1\d{2}|[1-9]\d|\d)\.){3}(?:25[0-5]|2[0-4]\d|1\d{2}|[1-9]\d|\d)$/u;function m(n){if(d(n,".")<3)return{host:n,isIPV4:!1};const o=n.match(f)||[],[a]=o;return a?{host:s(a,"."),isIPV4:!0}:{host:n,isIPV4:!1}}function $(n,o=!1){let a="",t=!0;for(const c of n){if(h[c]===void 0)return;c!=="0"&&t===!0&&(t=!1),t||(a+=c)}return o&&a.length===0&&(a="0"),a}function i(n){let o=0;const a={error:!1,address:"",zone:""},t=[],c=[];let u=!1,v=!1,b=!1;function j(){if(c.length){if(u===!1){const I=$(c);if(I!==void 0)t.push(I);else return a.error=!0,!1}c.length=0}return!0}for(let I=0;I<n.length;I++){const D=n[I];if(!(D==="["||D==="]"))if(D===":"){if(v===!0&&(b=!0),!j())break;if(o++,t.push(":"),o>7){a.error=!0;break}I-1>=0&&n[I-1]===":"&&(v=!0);continue}else if(D==="%"){if(!j())break;u=!0}else{c.push(D);continue}}return c.length&&(u?a.zone=c.join(""):b?t.push(c.join("")):t.push($(c))),a.address=t.join(""),a}function p(n){if(d(n,":")<2)return{host:n,isIPV6:!1};const o=i(n);if(o.error)return{host:n,isIPV6:!1};{let a=o.address,t=o.address;return o.zone&&(a+="%"+o.zone,t+="%25"+o.zone),{host:a,escapedHost:t,isIPV6:!0}}}function s(n,o){let a="",t=!0;const c=n.length;for(let u=0;u<c;u++){const v=n[u];v==="0"&&t?(u+1<=c&&n[u+1]===o||u+1===c)&&(a+=v,t=!1):(v===o?t=!0:t=!1,a+=v)}return a}function d(n,o){let a=0;for(let t=0;t<n.length;t++)n[t]===o&&a++;return a}var _=/^\.\.?\//u,g=/^\/\.(?:\/|$)/u,E=/^\/\.\.(?:\/|$)/u,P=/^\/?(?:.|\n)*?(?=\/|$)/u;function N(n){const o=[];for(;n.length;)if(n.match(_))n=n.replace(_,"");else if(n.match(g))n=n.replace(g,"/");else if(n.match(E))n=n.replace(E,"/"),o.pop();else if(n==="."||n==="..")n="";else{const a=n.match(P);if(a){const t=a[0];n=n.slice(t.length),o.push(t)}else throw new Error("Unexpected dot segment condition")}return o.join("")}function S(n,o){const a=o!==!0?escape:unescape;return n.scheme!==void 0&&(n.scheme=a(n.scheme)),n.userinfo!==void 0&&(n.userinfo=a(n.userinfo)),n.host!==void 0&&(n.host=a(n.host)),n.path!==void 0&&(n.path=a(n.path)),n.query!==void 0&&(n.query=a(n.query)),n.fragment!==void 0&&(n.fragment=a(n.fragment)),n}function y(n){const o=[];if(n.userinfo!==void 0&&(o.push(n.userinfo),o.push("@")),n.host!==void 0){let a=unescape(n.host);const t=m(a);if(t.isIPV4)a=t.host;else{const c=p(t.host);c.isIPV6===!0?a=`[${c.escapedHost}]`:a=n.host}o.push(a)}return(typeof n.port=="number"||typeof n.port=="string")&&(o.push(":"),o.push(String(n.port))),o.length?o.join(""):void 0}r.exports={recomposeAuthority:y,normalizeComponentEncoding:S,removeDotSegments:N,normalizeIPv4:m,normalizeIPv6:p,stringArrayToHexStripped:$}}),vr=z((e,r)=>{var h=/^[\da-f]{8}-[\da-f]{4}-[\da-f]{4}-[\da-f]{4}-[\da-f]{12}$/iu,f=/([\da-z][\d\-a-z]{0,31}):((?:[\w!$'()*+,\-.:;=@]|%[\da-f]{2})+)/iu;function m(t){return typeof t.secure=="boolean"?t.secure:String(t.scheme).toLowerCase()==="wss"}function $(t){return t.host||(t.error=t.error||"HTTP URIs must have a host."),t}function i(t){const c=String(t.scheme).toLowerCase()==="https";return(t.port===(c?443:80)||t.port==="")&&(t.port=void 0),t.path||(t.path="/"),t}function p(t){return t.secure=m(t),t.resourceName=(t.path||"/")+(t.query?"?"+t.query:""),t.path=void 0,t.query=void 0,t}function s(t){if((t.port===(m(t)?443:80)||t.port==="")&&(t.port=void 0),typeof t.secure=="boolean"&&(t.scheme=t.secure?"wss":"ws",t.secure=void 0),t.resourceName){const[c,u]=t.resourceName.split("?");t.path=c&&c!=="/"?c:void 0,t.query=u,t.resourceName=void 0}return t.fragment=void 0,t}function d(t,c){if(!t.path)return t.error="URN can not be parsed",t;const u=t.path.match(f);if(u){const v=c.scheme||t.scheme||"urn";t.nid=u[1].toLowerCase(),t.nss=u[2];const b=`${v}:${c.nid||t.nid}`,j=a[b];t.path=void 0,j&&(t=j.parse(t,c))}else t.error=t.error||"URN can not be parsed.";return t}function _(t,c){const u=c.scheme||t.scheme||"urn",v=t.nid.toLowerCase(),b=`${u}:${c.nid||v}`,j=a[b];j&&(t=j.serialize(t,c));const I=t,D=t.nss;return I.path=`${v||c.nid}:${D}`,c.skipEscape=!0,I}function g(t,c){const u=t;return u.uuid=u.nss,u.nss=void 0,!c.tolerant&&(!u.uuid||!h.test(u.uuid))&&(u.error=u.error||"UUID is not valid."),u}function E(t){const c=t;return c.nss=(t.uuid||"").toLowerCase(),c}var P={scheme:"http",domainHost:!0,parse:$,serialize:i},N={scheme:"https",domainHost:P.domainHost,parse:$,serialize:i},S={scheme:"ws",domainHost:!0,parse:p,serialize:s},y={scheme:"wss",domainHost:S.domainHost,parse:S.parse,serialize:S.serialize},n={scheme:"urn",parse:d,serialize:_,skipNormalize:!0},o={scheme:"urn:uuid",parse:g,serialize:E,skipNormalize:!0},a={http:P,https:N,ws:S,wss:y,urn:n,"urn:uuid":o};r.exports=a}),yr=z((e,r)=>{var{normalizeIPv6:h,normalizeIPv4:f,removeDotSegments:m,recomposeAuthority:$,normalizeComponentEncoding:i}=pr(),p=vr();function s(o,a){return typeof o=="string"?o=E(y(o,a),a):typeof o=="object"&&(o=y(E(o,a),a)),o}function d(o,a,t){const c=Object.assign({scheme:"null"},t),u=_(y(o,c),y(a,c),c,!0);return E(u,{...c,skipEscape:!0})}function _(o,a,t,c){const u={};return c||(o=y(E(o,t),t),a=y(E(a,t),t)),t=t||{},!t.tolerant&&a.scheme?(u.scheme=a.scheme,u.userinfo=a.userinfo,u.host=a.host,u.port=a.port,u.path=m(a.path||""),u.query=a.query):(a.userinfo!==void 0||a.host!==void 0||a.port!==void 0?(u.userinfo=a.userinfo,u.host=a.host,u.port=a.port,u.path=m(a.path||""),u.query=a.query):(a.path?(a.path.charAt(0)==="/"?u.path=m(a.path):((o.userinfo!==void 0||o.host!==void 0||o.port!==void 0)&&!o.path?u.path="/"+a.path:o.path?u.path=o.path.slice(0,o.path.lastIndexOf("/")+1)+a.path:u.path=a.path,u.path=m(u.path)),u.query=a.query):(u.path=o.path,a.query!==void 0?u.query=a.query:u.query=o.query),u.userinfo=o.userinfo,u.host=o.host,u.port=o.port),u.scheme=o.scheme),u.fragment=a.fragment,u}function g(o,a,t){return typeof o=="string"?(o=unescape(o),o=E(i(y(o,t),!0),{...t,skipEscape:!0})):typeof o=="object"&&(o=E(i(o,!0),{...t,skipEscape:!0})),typeof a=="string"?(a=unescape(a),a=E(i(y(a,t),!0),{...t,skipEscape:!0})):typeof a=="object"&&(a=E(i(a,!0),{...t,skipEscape:!0})),o.toLowerCase()===a.toLowerCase()}function E(o,a){const t={host:o.host,scheme:o.scheme,userinfo:o.userinfo,port:o.port,path:o.path,query:o.query,nid:o.nid,nss:o.nss,uuid:o.uuid,fragment:o.fragment,reference:o.reference,resourceName:o.resourceName,secure:o.secure,error:""},c=Object.assign({},a),u=[],v=p[(c.scheme||t.scheme||"").toLowerCase()];v&&v.serialize&&v.serialize(t,c),t.path!==void 0&&(c.skipEscape?t.path=unescape(t.path):(t.path=escape(t.path),t.scheme!==void 0&&(t.path=t.path.split("%3A").join(":")))),c.reference!=="suffix"&&t.scheme&&u.push(t.scheme,":");const b=$(t);if(b!==void 0&&(c.reference!=="suffix"&&u.push("//"),u.push(b),t.path&&t.path.charAt(0)!=="/"&&u.push("/")),t.path!==void 0){let j=t.path;!c.absolutePath&&(!v||!v.absolutePath)&&(j=m(j)),b===void 0&&(j=j.replace(/^\/\//u,"/%2F")),u.push(j)}return t.query!==void 0&&u.push("?",t.query),t.fragment!==void 0&&u.push("#",t.fragment),u.join("")}var P=Array.from({length:127},(o,a)=>/[^!"$&'()*+,\-.;=_`a-z{}~]/u.test(String.fromCharCode(a)));function N(o){let a=0;for(let t=0,c=o.length;t<c;++t)if(a=o.charCodeAt(t),a>126||P[a])return!0;return!1}var S=/^(?:([^#/:?]+):)?(?:\/\/((?:([^#/?@]*)@)?(\[[^#/?\]]+\]|[^#/:?]*)(?::(\d*))?))?([^#?]*)(?:\?([^#]*))?(?:#((?:.|[\n\r])*))?/u;function y(o,a){const t=Object.assign({},a),c={scheme:void 0,userinfo:void 0,host:"",port:void 0,path:"",query:void 0,fragment:void 0},u=o.indexOf("%")!==-1;let v=!1;t.reference==="suffix"&&(o=(t.scheme?t.scheme+":":"")+"//"+o);const b=o.match(S);if(b){if(c.scheme=b[1],c.userinfo=b[3],c.host=b[4],c.port=parseInt(b[5],10),c.path=b[6]||"",c.query=b[7],c.fragment=b[8],isNaN(c.port)&&(c.port=b[5]),c.host){const I=f(c.host);if(I.isIPV4===!1){const D=h(I.host);c.host=D.host.toLowerCase(),v=D.isIPV6}else c.host=I.host,v=!0}c.scheme===void 0&&c.userinfo===void 0&&c.host===void 0&&c.port===void 0&&c.query===void 0&&!c.path?c.reference="same-document":c.scheme===void 0?c.reference="relative":c.fragment===void 0?c.reference="absolute":c.reference="uri",t.reference&&t.reference!=="suffix"&&t.reference!==c.reference&&(c.error=c.error||"URI is not a "+t.reference+" reference.");const j=p[(t.scheme||c.scheme||"").toLowerCase()];if(!t.unicodeSupport&&(!j||!j.unicodeSupport)&&c.host&&(t.domainHost||j&&j.domainHost)&&v===!1&&N(c.host))try{c.host=URL.domainToASCII(c.host.toLowerCase())}catch(I){c.error=c.error||"Host's domain name can not be converted to ASCII: "+I}(!j||j&&!j.skipNormalize)&&(u&&c.scheme!==void 0&&(c.scheme=unescape(c.scheme)),u&&c.host!==void 0&&(c.host=unescape(c.host)),c.path&&(c.path=escape(unescape(c.path))),c.fragment&&(c.fragment=encodeURI(decodeURIComponent(c.fragment)))),j&&j.parse&&j.parse(c,t)}else c.error=c.error||"URI can not be parsed.";return c}var n={SCHEMES:p,normalize:s,resolve:d,resolveComponents:_,equal:g,serialize:E,parse:y};r.exports=n,r.exports.default=n,r.exports.fastUri=n}),_r=z(e=>{Object.defineProperty(e,"__esModule",{value:!0});var r=yr();r.code='require("ajv/dist/runtime/uri").default',e.default=r}),gr=z(e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.CodeGen=e.Name=e.nil=e.stringify=e.str=e._=e.KeywordCxt=void 0;var r=be();Object.defineProperty(e,"KeywordCxt",{enumerable:!0,get:function(){return r.KeywordCxt}});var h=W();Object.defineProperty(e,"_",{enumerable:!0,get:function(){return h._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return h.str}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return h.stringify}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return h.nil}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return h.Name}}),Object.defineProperty(e,"CodeGen",{enumerable:!0,get:function(){return h.CodeGen}});var f=Ie(),m=Ee(),$=We(),i=Ce(),p=W(),s=we(),d=ge(),_=X(),g=hr(),E=_r(),P=(U,k)=>new RegExp(U,k);P.code="new RegExp";var N=["removeAdditional","useDefaults","coerceTypes"],S=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),y={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},n={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'},o=200;function a(U){var k,A,T,l,w,C,L,H,Y,B,x,O,R,M,V,G,J,re,ue,ie,se,te,me,oe,Se;const pe=U.strict,Pe=(k=U.code)===null||k===void 0?void 0:k.optimize,Ae=Pe===!0||Pe===void 0?1:Pe||0,qe=(T=(A=U.code)===null||A===void 0?void 0:A.regExp)!==null&&T!==void 0?T:P,rr=(l=U.uriResolver)!==null&&l!==void 0?l:E.default;return{strictSchema:(C=(w=U.strictSchema)!==null&&w!==void 0?w:pe)!==null&&C!==void 0?C:!0,strictNumbers:(H=(L=U.strictNumbers)!==null&&L!==void 0?L:pe)!==null&&H!==void 0?H:!0,strictTypes:(B=(Y=U.strictTypes)!==null&&Y!==void 0?Y:pe)!==null&&B!==void 0?B:"log",strictTuples:(O=(x=U.strictTuples)!==null&&x!==void 0?x:pe)!==null&&O!==void 0?O:"log",strictRequired:(M=(R=U.strictRequired)!==null&&R!==void 0?R:pe)!==null&&M!==void 0?M:!1,code:U.code?{...U.code,optimize:Ae,regExp:qe}:{optimize:Ae,regExp:qe},loopRequired:(V=U.loopRequired)!==null&&V!==void 0?V:o,loopEnum:(G=U.loopEnum)!==null&&G!==void 0?G:o,meta:(J=U.meta)!==null&&J!==void 0?J:!0,messages:(re=U.messages)!==null&&re!==void 0?re:!0,inlineRefs:(ue=U.inlineRefs)!==null&&ue!==void 0?ue:!0,schemaId:(ie=U.schemaId)!==null&&ie!==void 0?ie:"$id",addUsedSchema:(se=U.addUsedSchema)!==null&&se!==void 0?se:!0,validateSchema:(te=U.validateSchema)!==null&&te!==void 0?te:!0,validateFormats:(me=U.validateFormats)!==null&&me!==void 0?me:!0,unicodeRegExp:(oe=U.unicodeRegExp)!==null&&oe!==void 0?oe:!0,int32range:(Se=U.int32range)!==null&&Se!==void 0?Se:!0,uriResolver:rr}}class t{constructor(k={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,k=this.opts={...k,...a(k)};const{es5:A,lines:T}=this.opts.code;this.scope=new p.ValueScope({scope:{},prefixes:S,es5:A,lines:T}),this.logger=q(k.logger);const l=k.validateFormats;k.validateFormats=!1,this.RULES=(0,$.getRules)(),c.call(this,y,k,"NOT SUPPORTED"),c.call(this,n,k,"DEPRECATED","warn"),this._metaOpts=I.call(this),k.formats&&b.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),k.keywords&&j.call(this,k.keywords),typeof k.meta=="object"&&this.addMetaSchema(k.meta),v.call(this),k.validateFormats=l}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){const{$data:k,meta:A,schemaId:T}=this.opts;let l=g;T==="id"&&(l={...g},l.id=l.$id,delete l.$id),A&&k&&this.addMetaSchema(l,l[T],!1)}defaultMeta(){const{meta:k,schemaId:A}=this.opts;return this.opts.defaultMeta=typeof k=="object"?k[A]||k:void 0}validate(k,A){let T;if(typeof k=="string"){if(T=this.getSchema(k),!T)throw new Error(`no schema with key or ref "${k}"`)}else T=this.compile(k);const l=T(A);return"$async"in T||(this.errors=T.errors),l}compile(k,A){const T=this._addSchema(k,A);return T.validate||this._compileSchemaEnv(T)}compileAsync(k,A){if(typeof this.opts.loadSchema!="function")throw new Error("options.loadSchema should be a function");const{loadSchema:T}=this.opts;return l.call(this,k,A);async function l(B,x){await w.call(this,B.$schema);const O=this._addSchema(B,x);return O.validate||C.call(this,O)}async function w(B){B&&!this.getSchema(B)&&await l.call(this,{$ref:B},!0)}async function C(B){try{return this._compileSchemaEnv(B)}catch(x){if(!(x instanceof m.default))throw x;return L.call(this,x),await H.call(this,x.missingSchema),C.call(this,B)}}function L({missingSchema:B,missingRef:x}){if(this.refs[B])throw new Error(`AnySchema ${B} is loaded but ${x} cannot be resolved`)}async function H(B){const x=await Y.call(this,B);this.refs[B]||await w.call(this,x.$schema),this.refs[B]||this.addSchema(x,B,A)}async function Y(B){const x=this._loading[B];if(x)return x;try{return await(this._loading[B]=T(B))}finally{delete this._loading[B]}}}addSchema(k,A,T,l=this.opts.validateSchema){if(Array.isArray(k)){for(const C of k)this.addSchema(C,void 0,T,l);return this}let w;if(typeof k=="object"){const{schemaId:C}=this.opts;if(w=k[C],w!==void 0&&typeof w!="string")throw new Error(`schema ${C} must be string`)}return A=(0,s.normalizeId)(A||w),this._checkUnique(A),this.schemas[A]=this._addSchema(k,T,A,l,!0),this}addMetaSchema(k,A,T=this.opts.validateSchema){return this.addSchema(k,A,!0,T),this}validateSchema(k,A){if(typeof k=="boolean")return!0;let T;if(T=k.$schema,T!==void 0&&typeof T!="string")throw new Error("$schema must be a string");if(T=T||this.opts.defaultMeta||this.defaultMeta(),!T)return this.logger.warn("meta-schema not available"),this.errors=null,!0;const l=this.validate(T,k);if(!l&&A){const w="schema is invalid: "+this.errorsText();if(this.opts.validateSchema==="log")this.logger.error(w);else throw new Error(w)}return l}getSchema(k){let A;for(;typeof(A=u.call(this,k))=="string";)k=A;if(A===void 0){const{schemaId:T}=this.opts,l=new i.SchemaEnv({schema:{},schemaId:T});if(A=i.resolveSchema.call(this,l,k),!A)return;this.refs[k]=A}return A.validate||this._compileSchemaEnv(A)}removeSchema(k){if(k instanceof RegExp)return this._removeAllSchemas(this.schemas,k),this._removeAllSchemas(this.refs,k),this;switch(typeof k){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{const A=u.call(this,k);return typeof A=="object"&&this._cache.delete(A.schema),delete this.schemas[k],delete this.refs[k],this}case"object":{const A=k;this._cache.delete(A);let T=k[this.opts.schemaId];return T&&(T=(0,s.normalizeId)(T),delete this.schemas[T],delete this.refs[T]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(k){for(const A of k)this.addKeyword(A);return this}addKeyword(k,A){let T;if(typeof k=="string")T=k,typeof A=="object"&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),A.keyword=T);else if(typeof k=="object"&&A===void 0){if(A=k,T=A.keyword,Array.isArray(T)&&!T.length)throw new Error("addKeywords: keyword must be string or non-empty array")}else throw new Error("invalid addKeywords parameters");if(F.call(this,T,A),!A)return(0,_.eachItem)(T,w=>Q.call(this,w)),this;ce.call(this,A);const l={...A,type:(0,d.getJSONTypes)(A.type),schemaType:(0,d.getJSONTypes)(A.schemaType)};return(0,_.eachItem)(T,l.type.length===0?w=>Q.call(this,w,l):w=>l.type.forEach(C=>Q.call(this,w,l,C))),this}getKeyword(k){const A=this.RULES.all[k];return typeof A=="object"?A.definition:!!A}removeKeyword(k){const{RULES:A}=this;delete A.keywords[k],delete A.all[k];for(const T of A.rules){const l=T.rules.findIndex(w=>w.keyword===k);l>=0&&T.rules.splice(l,1)}return this}addFormat(k,A){return typeof A=="string"&&(A=new RegExp(A)),this.formats[k]=A,this}errorsText(k=this.errors,{separator:A=", ",dataVar:T="data"}={}){return!k||k.length===0?"No errors":k.map(l=>`${T}${l.instancePath} ${l.message}`).reduce((l,w)=>l+A+w)}$dataMetaSchema(k,A){const T=this.RULES.all;k=JSON.parse(JSON.stringify(k));for(const l of A){const w=l.split("/").slice(1);let C=k;for(const L of w)C=C[L];for(const L in T){const H=T[L];if(typeof H!="object")continue;const{$data:Y}=H.definition,B=C[L];Y&&B&&(C[L]=Z(B))}}return k}_removeAllSchemas(k,A){for(const T in k){const l=k[T];(!A||A.test(T))&&(typeof l=="string"?delete k[T]:l&&!l.meta&&(this._cache.delete(l.schema),delete k[T]))}}_addSchema(k,A,T,l=this.opts.validateSchema,w=this.opts.addUsedSchema){let C;const{schemaId:L}=this.opts;if(typeof k=="object")C=k[L];else{if(this.opts.jtd)throw new Error("schema must be object");if(typeof k!="boolean")throw new Error("schema must be object or boolean")}let H=this._cache.get(k);if(H!==void 0)return H;T=(0,s.normalizeId)(C||T);const Y=s.getSchemaRefs.call(this,k,T);return H=new i.SchemaEnv({schema:k,schemaId:L,meta:A,baseId:T,localRefs:Y}),this._cache.set(H.schema,H),w&&!T.startsWith("#")&&(T&&this._checkUnique(T),this.refs[T]=H),l&&this.validateSchema(k,!0),H}_checkUnique(k){if(this.schemas[k]||this.refs[k])throw new Error(`schema with key or id "${k}" already exists`)}_compileSchemaEnv(k){if(k.meta?this._compileMetaSchema(k):i.compileSchema.call(this,k),!k.validate)throw new Error("ajv implementation error");return k.validate}_compileMetaSchema(k){const A=this.opts;this.opts=this._metaOpts;try{i.compileSchema.call(this,k)}finally{this.opts=A}}}t.ValidationError=f.default,t.MissingRefError=m.default,e.default=t;function c(U,k,A,T="error"){for(const l in U){const w=l;w in k&&this.logger[T](`${A}: option ${l}. ${U[w]}`)}}function u(U){return U=(0,s.normalizeId)(U),this.schemas[U]||this.refs[U]}function v(){const U=this.opts.schemas;if(U)if(Array.isArray(U))this.addSchema(U);else for(const k in U)this.addSchema(U[k],k)}function b(){for(const U in this.opts.formats){const k=this.opts.formats[U];k&&this.addFormat(U,k)}}function j(U){if(Array.isArray(U)){this.addVocabulary(U);return}this.logger.warn("keywords option as map is deprecated, pass array");for(const k in U){const A=U[k];A.keyword||(A.keyword=k),this.addKeyword(A)}}function I(){const U={...this.opts};for(const k of N)delete U[k];return U}var D={log(){},warn(){},error(){}};function q(U){if(U===!1)return D;if(U===void 0)return console;if(U.log&&U.warn&&U.error)return U;throw new Error("logger must implement log, warn and error methods")}var K=/^[a-z_$][a-z0-9_$:-]*$/i;function F(U,k){const{RULES:A}=this;if((0,_.eachItem)(U,T=>{if(A.keywords[T])throw new Error(`Keyword ${T} is already defined`);if(!K.test(T))throw new Error(`Keyword ${T} has invalid name`)}),!!k&&k.$data&&!("code"in k||"validate"in k))throw new Error('$data keyword must have "code" or "validate" function')}function Q(U,k,A){var T;const l=k==null?void 0:k.post;if(A&&l)throw new Error('keyword with "post" flag cannot have "type"');const{RULES:w}=this;let C=l?w.post:w.rules.find(({type:H})=>H===A);if(C||(C={type:A,rules:[]},w.rules.push(C)),w.keywords[U]=!0,!k)return;const L={keyword:U,definition:{...k,type:(0,d.getJSONTypes)(k.type),schemaType:(0,d.getJSONTypes)(k.schemaType)}};k.before?ee.call(this,C,L,k.before):C.rules.push(L),w.all[U]=L,(T=k.implements)===null||T===void 0||T.forEach(H=>this.addKeyword(H))}function ee(U,k,A){const T=U.rules.findIndex(l=>l.keyword===A);T>=0?U.rules.splice(T,0,k):(U.rules.push(k),this.logger.warn(`rule ${A} is not defined`))}function ce(U){let{metaSchema:k}=U;k!==void 0&&(U.$data&&this.opts.$data&&(k=Z(k)),U.validateSchema=this.compile(k,!0))}var de={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function Z(U){return{anyOf:[U,de]}}}),$r=z(e=>{Object.defineProperty(e,"__esModule",{value:!0});var r={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}};e.default=r}),wr=z(e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.callRef=e.getValidate=void 0;var r=Ee(),h=le(),f=W(),m=fe(),$=Ce(),i=X(),p={keyword:"$ref",schemaType:"string",code(_){const{gen:g,schema:E,it:P}=_,{baseId:N,schemaEnv:S,validateName:y,opts:n,self:o}=P,{root:a}=S;if((E==="#"||E==="#/")&&N===a.baseId)return c();const t=$.resolveRef.call(o,a,N,E);if(t===void 0)throw new r.default(P.opts.uriResolver,N,E);if(t instanceof $.SchemaEnv)return u(t);return v(t);function c(){if(S===a)return d(_,y,S,S.$async);const b=g.scopeValue("root",{ref:a});return d(_,(0,f._)`${b}.validate`,a,a.$async)}function u(b){const j=s(_,b);d(_,j,b,b.$async)}function v(b){const j=g.scopeValue("schema",n.code.source===!0?{ref:b,code:(0,f.stringify)(b)}:{ref:b}),I=g.name("valid"),D=_.subschema({schema:b,dataTypes:[],schemaPath:f.nil,topSchemaRef:j,errSchemaPath:E},I);_.mergeEvaluated(D),_.ok(I)}}};function s(_,g){const{gen:E}=_;return g.validate?E.scopeValue("validate",{ref:g.validate}):(0,f._)`${E.scopeValue("wrapper",{ref:g})}.validate`}e.getValidate=s;function d(_,g,E,P){const{gen:N,it:S}=_,{allErrors:y,schemaEnv:n,opts:o}=S,a=o.passContext?m.default.this:f.nil;P?t():c();function t(){if(!n.$async)throw new Error("async schema referenced by sync schema");const b=N.let("valid");N.try(()=>{N.code((0,f._)`await ${(0,h.callValidateCode)(_,g,a)}`),v(g),y||N.assign(b,!0)},j=>{N.if((0,f._)`!(${j} instanceof ${S.ValidationError})`,()=>N.throw(j)),u(j),y||N.assign(b,!1)}),_.ok(b)}function c(){_.result((0,h.callValidateCode)(_,g,a),()=>v(g),()=>u(g))}function u(b){const j=(0,f._)`${b}.errors`;N.assign(m.default.vErrors,(0,f._)`${m.default.vErrors} === null ? ${j} : ${m.default.vErrors}.concat(${j})`),N.assign(m.default.errors,(0,f._)`${m.default.vErrors}.length`)}function v(b){var j;if(!S.opts.unevaluated)return;const I=(j=E==null?void 0:E.validate)===null||j===void 0?void 0:j.evaluated;if(S.props!==!0)if(I&&!I.dynamicProps)I.props!==void 0&&(S.props=i.mergeEvaluated.props(N,I.props,S.props));else{const D=N.var("props",(0,f._)`${b}.evaluated.props`);S.props=i.mergeEvaluated.props(N,D,S.props,f.Name)}if(S.items!==!0)if(I&&!I.dynamicItems)I.items!==void 0&&(S.items=i.mergeEvaluated.items(N,I.items,S.items));else{const D=N.var("items",(0,f._)`${b}.evaluated.items`);S.items=i.mergeEvaluated.items(N,D,S.items,f.Name)}}}e.callRef=d,e.default=p}),br=z(e=>{Object.defineProperty(e,"__esModule",{value:!0});var r=$r(),h=wr(),f=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",r.default,h.default];e.default=f}),Er=z(e=>{Object.defineProperty(e,"__esModule",{value:!0});var r=W(),h=r.operators,f={maximum:{okStr:"<=",ok:h.LTE,fail:h.GT},minimum:{okStr:">=",ok:h.GTE,fail:h.LT},exclusiveMaximum:{okStr:"<",ok:h.LT,fail:h.GTE},exclusiveMinimum:{okStr:">",ok:h.GT,fail:h.LTE}},m={message:({keyword:i,schemaCode:p})=>(0,r.str)`must be ${f[i].okStr} ${p}`,params:({keyword:i,schemaCode:p})=>(0,r._)`{comparison: ${f[i].okStr}, limit: ${p}}`},$={keyword:Object.keys(f),type:"number",schemaType:"number",$data:!0,error:m,code(i){const{keyword:p,data:s,schemaCode:d}=i;i.fail$data((0,r._)`${s} ${f[p].fail} ${d} || isNaN(${s})`)}};e.default=$}),Sr=z(e=>{Object.defineProperty(e,"__esModule",{value:!0});var r=W(),h={message:({schemaCode:m})=>(0,r.str)`must be multiple of ${m}`,params:({schemaCode:m})=>(0,r._)`{multipleOf: ${m}}`},f={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:h,code(m){const{gen:$,data:i,schemaCode:p,it:s}=m,d=s.opts.multipleOfPrecision,_=$.let("res"),g=d?(0,r._)`Math.abs(Math.round(${_}) - ${_}) > 1e-${d}`:(0,r._)`${_} !== parseInt(${_})`;m.fail$data((0,r._)`(${p} === 0 || (${_} = ${i}/${p}, ${g}))`)}};e.default=f}),Pr=z(e=>{Object.defineProperty(e,"__esModule",{value:!0});function r(h){const f=h.length;let m=0,$=0,i;for(;$<f;)m++,i=h.charCodeAt($++),i>=55296&&i<=56319&&$<f&&(i=h.charCodeAt($),(i&64512)===56320&&$++);return m}e.default=r,r.code='require("ajv/dist/runtime/ucs2length").default'}),jr=z(e=>{Object.defineProperty(e,"__esModule",{value:!0});var r=W(),h=X(),f=Pr(),m={message({keyword:i,schemaCode:p}){const s=i==="maxLength"?"more":"fewer";return(0,r.str)`must NOT have ${s} than ${p} characters`},params:({schemaCode:i})=>(0,r._)`{limit: ${i}}`},$={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:m,code(i){const{keyword:p,data:s,schemaCode:d,it:_}=i,g=p==="maxLength"?r.operators.GT:r.operators.LT,E=_.opts.unicode===!1?(0,r._)`${s}.length`:(0,r._)`${(0,h.useFunc)(i.gen,f.default)}(${s})`;i.fail$data((0,r._)`${E} ${g} ${d}`)}};e.default=$}),Nr=z(e=>{Object.defineProperty(e,"__esModule",{value:!0});var r=le(),h=W(),f={message:({schemaCode:$})=>(0,h.str)`must match pattern "${$}"`,params:({schemaCode:$})=>(0,h._)`{pattern: ${$}}`},m={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:f,code($){const{data:i,$data:p,schema:s,schemaCode:d,it:_}=$,g=_.opts.unicodeRegExp?"u":"",E=p?(0,h._)`(new RegExp(${d}, ${g}))`:(0,r.usePattern)($,s);$.fail$data((0,h._)`!${E}.test(${i})`)}};e.default=m}),Or=z(e=>{Object.defineProperty(e,"__esModule",{value:!0});var r=W(),h={message({keyword:m,schemaCode:$}){const i=m==="maxProperties"?"more":"fewer";return(0,r.str)`must NOT have ${i} than ${$} properties`},params:({schemaCode:m})=>(0,r._)`{limit: ${m}}`},f={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:h,code(m){const{keyword:$,data:i,schemaCode:p}=m,s=$==="maxProperties"?r.operators.GT:r.operators.LT;m.fail$data((0,r._)`Object.keys(${i}).length ${s} ${p}`)}};e.default=f}),kr=z(e=>{Object.defineProperty(e,"__esModule",{value:!0});var r=le(),h=W(),f=X(),m={message:({params:{missingProperty:i}})=>(0,h.str)`must have required property '${i}'`,params:({params:{missingProperty:i}})=>(0,h._)`{missingProperty: ${i}}`},$={keyword:"required",type:"object",schemaType:"array",$data:!0,error:m,code(i){const{gen:p,schema:s,schemaCode:d,data:_,$data:g,it:E}=i,{opts:P}=E;if(!g&&s.length===0)return;const N=s.length>=P.loopRequired;if(E.allErrors?S():y(),P.strictRequired){const a=i.parentSchema.properties,{definedProperties:t}=i.it;for(const c of s)if((a==null?void 0:a[c])===void 0&&!t.has(c)){const u=E.schemaEnv.baseId+E.errSchemaPath,v=`required property "${c}" is not defined at "${u}" (strictRequired)`;(0,f.checkStrictMode)(E,v,E.opts.strictRequired)}}function S(){if(N||g)i.block$data(h.nil,n);else for(const a of s)(0,r.checkReportMissingProp)(i,a)}function y(){const a=p.let("missing");if(N||g){const t=p.let("valid",!0);i.block$data(t,()=>o(a,t)),i.ok(t)}else p.if((0,r.checkMissingProp)(i,s,a)),(0,r.reportMissingProp)(i,a),p.else()}function n(){p.forOf("prop",d,a=>{i.setParams({missingProperty:a}),p.if((0,r.noPropertyInData)(p,_,a,P.ownProperties),()=>i.error())})}function o(a,t){i.setParams({missingProperty:a}),p.forOf(a,d,()=>{p.assign(t,(0,r.propertyInData)(p,_,a,P.ownProperties)),p.if((0,h.not)(t),()=>{i.error(),p.break()})},h.nil)}}};e.default=$}),Rr=z(e=>{Object.defineProperty(e,"__esModule",{value:!0});var r=W(),h={message({keyword:m,schemaCode:$}){const i=m==="maxItems"?"more":"fewer";return(0,r.str)`must NOT have ${i} than ${$} items`},params:({schemaCode:m})=>(0,r._)`{limit: ${m}}`},f={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:h,code(m){const{keyword:$,data:i,schemaCode:p}=m,s=$==="maxItems"?r.operators.GT:r.operators.LT;m.fail$data((0,r._)`${i}.length ${s} ${p}`)}};e.default=f}),De=z(e=>{Object.defineProperty(e,"__esModule",{value:!0});var r=Qe();r.code='require("ajv/dist/runtime/equal").default',e.default=r}),Tr=z(e=>{Object.defineProperty(e,"__esModule",{value:!0});var r=ge(),h=W(),f=X(),m=De(),$={message:({params:{i:p,j:s}})=>(0,h.str)`must NOT have duplicate items (items ## ${s} and ${p} are identical)`,params:({params:{i:p,j:s}})=>(0,h._)`{i: ${p}, j: ${s}}`},i={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:$,code(p){const{gen:s,data:d,$data:_,schema:g,parentSchema:E,schemaCode:P,it:N}=p;if(!_&&!g)return;const S=s.let("valid"),y=E.items?(0,r.getSchemaTypes)(E.items):[];p.block$data(S,n,(0,h._)`${P} === false`),p.ok(S);function n(){const c=s.let("i",(0,h._)`${d}.length`),u=s.let("j");p.setParams({i:c,j:u}),s.assign(S,!0),s.if((0,h._)`${c} > 1`,()=>(o()?a:t)(c,u))}function o(){return y.length>0&&!y.some(c=>c==="object"||c==="array")}function a(c,u){const v=s.name("item"),b=(0,r.checkDataTypes)(y,v,N.opts.strictNumbers,r.DataType.Wrong),j=s.const("indices",(0,h._)`{}`);s.for((0,h._)`;${c}--;`,()=>{s.let(v,(0,h._)`${d}[${c}]`),s.if(b,(0,h._)`continue`),y.length>1&&s.if((0,h._)`typeof ${v} == "string"`,(0,h._)`${v} += "_"`),s.if((0,h._)`typeof ${j}[${v}] == "number"`,()=>{s.assign(u,(0,h._)`${j}[${v}]`),p.error(),s.assign(S,!1).break()}).code((0,h._)`${j}[${v}] = ${c}`)})}function t(c,u){const v=(0,f.useFunc)(s,m.default),b=s.name("outer");s.label(b).for((0,h._)`;${c}--;`,()=>s.for((0,h._)`${u} = ${c}; ${u}--;`,()=>s.if((0,h._)`${v}(${d}[${c}], ${d}[${u}])`,()=>{p.error(),s.assign(S,!1).break(b)})))}}};e.default=i}),Ir=z(e=>{Object.defineProperty(e,"__esModule",{value:!0});var r=W(),h=X(),f=De(),m={message:"must be equal to constant",params:({schemaCode:i})=>(0,r._)`{allowedValue: ${i}}`},$={keyword:"const",$data:!0,error:m,code(i){const{gen:p,data:s,$data:d,schemaCode:_,schema:g}=i;d||g&&typeof g=="object"?i.fail$data((0,r._)`!${(0,h.useFunc)(p,f.default)}(${s}, ${_})`):i.fail((0,r._)`${g} !== ${s}`)}};e.default=$}),Cr=z(e=>{Object.defineProperty(e,"__esModule",{value:!0});var r=W(),h=X(),f=De(),m={message:"must be equal to one of the allowed values",params:({schemaCode:i})=>(0,r._)`{allowedValues: ${i}}`},$={keyword:"enum",schemaType:"array",$data:!0,error:m,code(i){const{gen:p,data:s,$data:d,schema:_,schemaCode:g,it:E}=i;if(!d&&_.length===0)throw new Error("enum must have non-empty array");const P=_.length>=E.opts.loopEnum;let N;const S=()=>N??(N=(0,h.useFunc)(p,f.default));let y;if(P||d)y=p.let("valid"),i.block$data(y,n);else{if(!Array.isArray(_))throw new Error("ajv implementation error");const a=p.const("vSchema",g);y=(0,r.or)(..._.map((t,c)=>o(a,c)))}i.pass(y);function n(){p.assign(y,!1),p.forOf("v",g,a=>p.if((0,r._)`${S()}(${s}, ${a})`,()=>p.assign(y,!0).break()))}function o(a,t){const c=_[t];return typeof c=="object"&&c!==null?(0,r._)`${S()}(${s}, ${a}[${t}])`:(0,r._)`${s} === ${c}`}}};e.default=$}),Dr=z(e=>{Object.defineProperty(e,"__esModule",{value:!0});var r=Er(),h=Sr(),f=jr(),m=Nr(),$=Or(),i=kr(),p=Rr(),s=Tr(),d=Ir(),_=Cr(),g=[r.default,h.default,f.default,m.default,$.default,i.default,p.default,s.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},d.default,_.default];e.default=g}),Xe=z(e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.validateAdditionalItems=void 0;var r=W(),h=X(),f={message:({params:{len:i}})=>(0,r.str)`must NOT have more than ${i} items`,params:({params:{len:i}})=>(0,r._)`{limit: ${i}}`},m={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:f,code(i){const{parentSchema:p,it:s}=i,{items:d}=p;if(!Array.isArray(d)){(0,h.checkStrictMode)(s,'"additionalItems" is ignored when "items" is not an array of schemas');return}$(i,d)}};function $(i,p){const{gen:s,schema:d,data:_,keyword:g,it:E}=i;E.items=!0;const P=s.const("len",(0,r._)`${_}.length`);if(d===!1)i.setParams({len:p.length}),i.pass((0,r._)`${P} <= ${p.length}`);else if(typeof d=="object"&&!(0,h.alwaysValidSchema)(E,d)){const S=s.var("valid",(0,r._)`${P} <= ${p.length}`);s.if((0,r.not)(S),()=>N(S)),i.ok(S)}function N(S){s.forRange("i",p.length,P,y=>{i.subschema({keyword:g,dataProp:y,dataPropType:h.Type.Num},S),E.allErrors||s.if((0,r.not)(S),()=>s.break())})}}e.validateAdditionalItems=$,e.default=m}),Ye=z(e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.validateTuple=void 0;var r=W(),h=X(),f=le(),m={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(i){const{schema:p,it:s}=i;if(Array.isArray(p))return $(i,"additionalItems",p);s.items=!0,!(0,h.alwaysValidSchema)(s,p)&&i.ok((0,f.validateArray)(i))}};function $(i,p,s=i.schema){const{gen:d,parentSchema:_,data:g,keyword:E,it:P}=i;y(_),P.opts.unevaluated&&s.length&&P.items!==!0&&(P.items=h.mergeEvaluated.items(d,s.length,P.items));const N=d.name("valid"),S=d.const("len",(0,r._)`${g}.length`);s.forEach((n,o)=>{(0,h.alwaysValidSchema)(P,n)||(d.if((0,r._)`${S} > ${o}`,()=>i.subschema({keyword:E,schemaProp:o,dataProp:o},N)),i.ok(N))});function y(n){const{opts:o,errSchemaPath:a}=P,t=s.length,c=t===n.minItems&&(t===n.maxItems||n[p]===!1);if(o.strictTuples&&!c){const u=`"${E}" is ${t}-tuple, but minItems or maxItems/${p} are not specified or different at path "${a}"`;(0,h.checkStrictMode)(P,u,o.strictTuples)}}}e.validateTuple=$,e.default=m}),Mr=z(e=>{Object.defineProperty(e,"__esModule",{value:!0});var r=Ye(),h={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:f=>(0,r.validateTuple)(f,"items")};e.default=h}),Ar=z(e=>{Object.defineProperty(e,"__esModule",{value:!0});var r=W(),h=X(),f=le(),m=Xe(),$={message:({params:{len:p}})=>(0,r.str)`must NOT have more than ${p} items`,params:({params:{len:p}})=>(0,r._)`{limit: ${p}}`},i={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:$,code(p){const{schema:s,parentSchema:d,it:_}=p,{prefixItems:g}=d;_.items=!0,!(0,h.alwaysValidSchema)(_,s)&&(g?(0,m.validateAdditionalItems)(p,g):p.ok((0,f.validateArray)(p)))}};e.default=i}),qr=z(e=>{Object.defineProperty(e,"__esModule",{value:!0});var r=W(),h=X(),f={message:({params:{min:$,max:i}})=>i===void 0?(0,r.str)`must contain at least ${$} valid item(s)`:(0,r.str)`must contain at least ${$} and no more than ${i} valid item(s)`,params:({params:{min:$,max:i}})=>i===void 0?(0,r._)`{minContains: ${$}}`:(0,r._)`{minContains: ${$}, maxContains: ${i}}`},m={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:f,code($){const{gen:i,schema:p,parentSchema:s,data:d,it:_}=$;let g,E;const{minContains:P,maxContains:N}=s;_.opts.next?(g=P===void 0?1:P,E=N):g=1;const S=i.const("len",(0,r._)`${d}.length`);if($.setParams({min:g,max:E}),E===void 0&&g===0){(0,h.checkStrictMode)(_,'"minContains" == 0 without "maxContains": "contains" keyword ignored');return}if(E!==void 0&&g>E){(0,h.checkStrictMode)(_,'"minContains" > "maxContains" is always invalid'),$.fail();return}if((0,h.alwaysValidSchema)(_,p)){let t=(0,r._)`${S} >= ${g}`;E!==void 0&&(t=(0,r._)`${t} && ${S} <= ${E}`),$.pass(t);return}_.items=!0;const y=i.name("valid");E===void 0&&g===1?o(y,()=>i.if(y,()=>i.break())):g===0?(i.let(y,!0),E!==void 0&&i.if((0,r._)`${d}.length > 0`,n)):(i.let(y,!1),n()),$.result(y,()=>$.reset());function n(){const t=i.name("_valid"),c=i.let("count",0);o(t,()=>i.if(t,()=>a(c)))}function o(t,c){i.forRange("i",0,S,u=>{$.subschema({keyword:"contains",dataProp:u,dataPropType:h.Type.Num,compositeRule:!0},t),c()})}function a(t){i.code((0,r._)`${t}++`),E===void 0?i.if((0,r._)`${t} >= ${g}`,()=>i.assign(y,!0).break()):(i.if((0,r._)`${t} > ${E}`,()=>i.assign(y,!1).break()),g===1?i.assign(y,!0):i.if((0,r._)`${t} >= ${g}`,()=>i.assign(y,!0)))}}};e.default=m}),Vr=z(e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.validateSchemaDeps=e.validatePropertyDeps=e.error=void 0;var r=W(),h=X(),f=le();e.error={message:({params:{property:s,depsCount:d,deps:_}})=>{const g=d===1?"property":"properties";return(0,r.str)`must have ${g} ${_} when property ${s} is present`},params:({params:{property:s,depsCount:d,deps:_,missingProperty:g}})=>(0,r._)`{property: ${s},
    missingProperty: ${g},
    depsCount: ${d},
    deps: ${_}}`};var m={keyword:"dependencies",type:"object",schemaType:"object",error:e.error,code(s){const[d,_]=$(s);i(s,d),p(s,_)}};function $({schema:s}){const d={},_={};for(const g in s){if(g==="__proto__")continue;const E=Array.isArray(s[g])?d:_;E[g]=s[g]}return[d,_]}function i(s,d=s.schema){const{gen:_,data:g,it:E}=s;if(Object.keys(d).length===0)return;const P=_.let("missing");for(const N in d){const S=d[N];if(S.length===0)continue;const y=(0,f.propertyInData)(_,g,N,E.opts.ownProperties);s.setParams({property:N,depsCount:S.length,deps:S.join(", ")}),E.allErrors?_.if(y,()=>{for(const n of S)(0,f.checkReportMissingProp)(s,n)}):(_.if((0,r._)`${y} && (${(0,f.checkMissingProp)(s,S,P)})`),(0,f.reportMissingProp)(s,P),_.else())}}e.validatePropertyDeps=i;function p(s,d=s.schema){const{gen:_,data:g,keyword:E,it:P}=s,N=_.name("valid");for(const S in d)(0,h.alwaysValidSchema)(P,d[S])||(_.if((0,f.propertyInData)(_,g,S,P.opts.ownProperties),()=>{const y=s.subschema({keyword:E,schemaProp:S},N);s.mergeValidEvaluated(y,N)},()=>_.var(N,!0)),s.ok(N))}e.validateSchemaDeps=p,e.default=m}),Ur=z(e=>{Object.defineProperty(e,"__esModule",{value:!0});var r=W(),h=X(),f={message:"property name must be valid",params:({params:$})=>(0,r._)`{propertyName: ${$.propertyName}}`},m={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:f,code($){const{gen:i,schema:p,data:s,it:d}=$;if((0,h.alwaysValidSchema)(d,p))return;const _=i.name("valid");i.forIn("key",s,g=>{$.setParams({propertyName:g}),$.subschema({keyword:"propertyNames",data:g,dataTypes:["string"],propertyName:g,compositeRule:!0},_),i.if((0,r.not)(_),()=>{$.error(!0),d.allErrors||i.break()})}),$.ok(_)}};e.default=m}),Ze=z(e=>{Object.defineProperty(e,"__esModule",{value:!0});var r=le(),h=W(),f=fe(),m=X(),$={message:"must NOT have additional properties",params:({params:p})=>(0,h._)`{additionalProperty: ${p.additionalProperty}}`},i={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:$,code(p){const{gen:s,schema:d,parentSchema:_,data:g,errsCount:E,it:P}=p;if(!E)throw new Error("ajv implementation error");const{allErrors:N,opts:S}=P;if(P.props=!0,S.removeAdditional!=="all"&&(0,m.alwaysValidSchema)(P,d))return;const y=(0,r.allSchemaProperties)(_.properties),n=(0,r.allSchemaProperties)(_.patternProperties);o(),p.ok((0,h._)`${E} === ${f.default.errors}`);function o(){s.forIn("key",g,v=>{!y.length&&!n.length?c(v):s.if(a(v),()=>c(v))})}function a(v){let b;if(y.length>8){const j=(0,m.schemaRefOrVal)(P,_.properties,"properties");b=(0,r.isOwnProperty)(s,j,v)}else y.length?b=(0,h.or)(...y.map(j=>(0,h._)`${v} === ${j}`)):b=h.nil;return n.length&&(b=(0,h.or)(b,...n.map(j=>(0,h._)`${(0,r.usePattern)(p,j)}.test(${v})`))),(0,h.not)(b)}function t(v){s.code((0,h._)`delete ${g}[${v}]`)}function c(v){if(S.removeAdditional==="all"||S.removeAdditional&&d===!1){t(v);return}if(d===!1){p.setParams({additionalProperty:v}),p.error(),N||s.break();return}if(typeof d=="object"&&!(0,m.alwaysValidSchema)(P,d)){const b=s.name("valid");S.removeAdditional==="failing"?(u(v,b,!1),s.if((0,h.not)(b),()=>{p.reset(),t(v)})):(u(v,b),N||s.if((0,h.not)(b),()=>s.break()))}}function u(v,b,j){const I={keyword:"additionalProperties",dataProp:v,dataPropType:m.Type.Str};j===!1&&Object.assign(I,{compositeRule:!0,createErrors:!1,allErrors:!1}),p.subschema(I,b)}}};e.default=i}),zr=z(e=>{Object.defineProperty(e,"__esModule",{value:!0});var r=be(),h=le(),f=X(),m=Ze(),$={keyword:"properties",type:"object",schemaType:"object",code(i){const{gen:p,schema:s,parentSchema:d,data:_,it:g}=i;g.opts.removeAdditional==="all"&&d.additionalProperties===void 0&&m.default.code(new r.KeywordCxt(g,m.default,"additionalProperties"));const E=(0,h.allSchemaProperties)(s);for(const n of E)g.definedProperties.add(n);g.opts.unevaluated&&E.length&&g.props!==!0&&(g.props=f.mergeEvaluated.props(p,(0,f.toHash)(E),g.props));const P=E.filter(n=>!(0,f.alwaysValidSchema)(g,s[n]));if(P.length===0)return;const N=p.name("valid");for(const n of P)S(n)?y(n):(p.if((0,h.propertyInData)(p,_,n,g.opts.ownProperties)),y(n),g.allErrors||p.else().var(N,!0),p.endIf()),i.it.definedProperties.add(n),i.ok(N);function S(n){return g.opts.useDefaults&&!g.compositeRule&&s[n].default!==void 0}function y(n){i.subschema({keyword:"properties",schemaProp:n,dataProp:n},N)}}};e.default=$}),Kr=z(e=>{Object.defineProperty(e,"__esModule",{value:!0});var r=le(),h=W(),f=X(),m=X(),$={keyword:"patternProperties",type:"object",schemaType:"object",code(i){const{gen:p,schema:s,data:d,parentSchema:_,it:g}=i,{opts:E}=g,P=(0,r.allSchemaProperties)(s),N=P.filter(c=>(0,f.alwaysValidSchema)(g,s[c]));if(P.length===0||N.length===P.length&&(!g.opts.unevaluated||g.props===!0))return;const S=E.strictSchema&&!E.allowMatchingProperties&&_.properties,y=p.name("valid");g.props!==!0&&!(g.props instanceof h.Name)&&(g.props=(0,m.evaluatedPropsToName)(p,g.props));const{props:n}=g;o();function o(){for(const c of P)S&&a(c),g.allErrors?t(c):(p.var(y,!0),t(c),p.if(y))}function a(c){for(const u in S)new RegExp(c).test(u)&&(0,f.checkStrictMode)(g,`property ${u} matches pattern ${c} (use allowMatchingProperties)`)}function t(c){p.forIn("key",d,u=>{p.if((0,h._)`${(0,r.usePattern)(i,c)}.test(${u})`,()=>{const v=N.includes(c);v||i.subschema({keyword:"patternProperties",schemaProp:c,dataProp:u,dataPropType:m.Type.Str},y),g.opts.unevaluated&&n!==!0?p.assign((0,h._)`${n}[${u}]`,!0):!v&&!g.allErrors&&p.if((0,h.not)(y),()=>p.break())})})}}};e.default=$}),Fr=z(e=>{Object.defineProperty(e,"__esModule",{value:!0});var r=X(),h={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(f){const{gen:m,schema:$,it:i}=f;if((0,r.alwaysValidSchema)(i,$)){f.fail();return}const p=m.name("valid");f.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},p),f.failResult(p,()=>f.reset(),()=>f.error())},error:{message:"must NOT be valid"}};e.default=h}),Lr=z(e=>{Object.defineProperty(e,"__esModule",{value:!0});var r=le(),h={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:r.validateUnion,error:{message:"must match a schema in anyOf"}};e.default=h}),Hr=z(e=>{Object.defineProperty(e,"__esModule",{value:!0});var r=W(),h=X(),f={message:"must match exactly one schema in oneOf",params:({params:$})=>(0,r._)`{passingSchemas: ${$.passing}}`},m={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:f,code($){const{gen:i,schema:p,parentSchema:s,it:d}=$;if(!Array.isArray(p))throw new Error("ajv implementation error");if(d.opts.discriminator&&s.discriminator)return;const _=p,g=i.let("valid",!1),E=i.let("passing",null),P=i.name("_valid");$.setParams({passing:E}),i.block(N),$.result(g,()=>$.reset(),()=>$.error(!0));function N(){_.forEach((S,y)=>{let n;(0,h.alwaysValidSchema)(d,S)?i.var(P,!0):n=$.subschema({keyword:"oneOf",schemaProp:y,compositeRule:!0},P),y>0&&i.if((0,r._)`${P} && ${g}`).assign(g,!1).assign(E,(0,r._)`[${E}, ${y}]`).else(),i.if(P,()=>{i.assign(g,!0),i.assign(E,y),n&&$.mergeEvaluated(n,r.Name)})})}}};e.default=m}),Gr=z(e=>{Object.defineProperty(e,"__esModule",{value:!0});var r=X(),h={keyword:"allOf",schemaType:"array",code(f){const{gen:m,schema:$,it:i}=f;if(!Array.isArray($))throw new Error("ajv implementation error");const p=m.name("valid");$.forEach((s,d)=>{if((0,r.alwaysValidSchema)(i,s))return;const _=f.subschema({keyword:"allOf",schemaProp:d},p);f.ok(p),f.mergeEvaluated(_)})}};e.default=h}),Jr=z(e=>{Object.defineProperty(e,"__esModule",{value:!0});var r=W(),h=X(),f={message:({params:i})=>(0,r.str)`must match "${i.ifClause}" schema`,params:({params:i})=>(0,r._)`{failingKeyword: ${i.ifClause}}`},m={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:f,code(i){const{gen:p,parentSchema:s,it:d}=i;s.then===void 0&&s.else===void 0&&(0,h.checkStrictMode)(d,'"if" without "then" and "else" is ignored');const _=$(d,"then"),g=$(d,"else");if(!_&&!g)return;const E=p.let("valid",!0),P=p.name("_valid");if(N(),i.reset(),_&&g){const y=p.let("ifClause");i.setParams({ifClause:y}),p.if(P,S("then",y),S("else",y))}else _?p.if(P,S("then")):p.if((0,r.not)(P),S("else"));i.pass(E,()=>i.error(!0));function N(){const y=i.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},P);i.mergeEvaluated(y)}function S(y,n){return()=>{const o=i.subschema({keyword:y},P);p.assign(E,P),i.mergeValidEvaluated(o,E),n?p.assign(n,(0,r._)`${y}`):i.setParams({ifClause:y})}}}};function $(i,p){const s=i.schema[p];return s!==void 0&&!(0,h.alwaysValidSchema)(i,s)}e.default=m}),Wr=z(e=>{Object.defineProperty(e,"__esModule",{value:!0});var r=X(),h={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:f,parentSchema:m,it:$}){m.if===void 0&&(0,r.checkStrictMode)($,`"${f}" without "if" is ignored`)}};e.default=h}),Br=z(e=>{Object.defineProperty(e,"__esModule",{value:!0});var r=Xe(),h=Mr(),f=Ye(),m=Ar(),$=qr(),i=Vr(),p=Ur(),s=Ze(),d=zr(),_=Kr(),g=Fr(),E=Lr(),P=Hr(),N=Gr(),S=Jr(),y=Wr();function n(o=!1){const a=[g.default,E.default,P.default,N.default,S.default,y.default,p.default,s.default,i.default,d.default,_.default];return o?a.push(h.default,m.default):a.push(r.default,f.default),a.push($.default),a}e.default=n}),Qr=z(e=>{Object.defineProperty(e,"__esModule",{value:!0});var r=W(),h={message:({schemaCode:m})=>(0,r.str)`must match format "${m}"`,params:({schemaCode:m})=>(0,r._)`{format: ${m}}`},f={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:h,code(m,$){const{gen:i,data:p,$data:s,schema:d,schemaCode:_,it:g}=m,{opts:E,errSchemaPath:P,schemaEnv:N,self:S}=g;if(!E.validateFormats)return;s?y():n();function y(){const o=i.scopeValue("formats",{ref:S.formats,code:E.code.formats}),a=i.const("fDef",(0,r._)`${o}[${_}]`),t=i.let("fType"),c=i.let("format");i.if((0,r._)`typeof ${a} == "object" && !(${a} instanceof RegExp)`,()=>i.assign(t,(0,r._)`${a}.type || "string"`).assign(c,(0,r._)`${a}.validate`),()=>i.assign(t,(0,r._)`"string"`).assign(c,a)),m.fail$data((0,r.or)(u(),v()));function u(){return E.strictSchema===!1?r.nil:(0,r._)`${_} && !${c}`}function v(){const b=N.$async?(0,r._)`(${a}.async ? await ${c}(${p}) : ${c}(${p}))`:(0,r._)`${c}(${p})`,j=(0,r._)`(typeof ${c} == "function" ? ${b} : ${c}.test(${p}))`;return(0,r._)`${c} && ${c} !== true && ${t} === ${$} && !${j}`}}function n(){const o=S.formats[d];if(!o){u();return}if(o===!0)return;const[a,t,c]=v(o);a===$&&m.pass(b());function u(){if(E.strictSchema===!1){S.logger.warn(j());return}throw new Error(j());function j(){return`unknown format "${d}" ignored in schema at path "${P}"`}}function v(j){const I=j instanceof RegExp?(0,r.regexpCode)(j):E.code.formats?(0,r._)`${E.code.formats}${(0,r.getProperty)(d)}`:void 0,D=i.scopeValue("formats",{key:d,ref:j,code:I});return typeof j=="object"&&!(j instanceof RegExp)?[j.type||"string",j.validate,(0,r._)`${D}.validate`]:["string",j,D]}function b(){if(typeof o=="object"&&!(o instanceof RegExp)&&o.async){if(!N.$async)throw new Error("async format in sync schema");return(0,r._)`await ${c}(${p})`}return typeof t=="function"?(0,r._)`${c}(${p})`:(0,r._)`${c}.test(${p})`}}}};e.default=f}),Xr=z(e=>{Object.defineProperty(e,"__esModule",{value:!0});var r=Qr(),h=[r.default];e.default=h}),Yr=z(e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.contentVocabulary=e.metadataVocabulary=void 0,e.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"],e.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"]}),Zr=z(e=>{Object.defineProperty(e,"__esModule",{value:!0});var r=br(),h=Dr(),f=Br(),m=Xr(),$=Yr(),i=[r.default,h.default,(0,f.default)(),m.default,$.metadataVocabulary,$.contentVocabulary];e.default=i}),xr=z(e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.DiscrError=void 0;var r;(function(h){h.Tag="tag",h.Mapping="mapping"})(r||(e.DiscrError=r={}))}),et=z(e=>{Object.defineProperty(e,"__esModule",{value:!0});var r=W(),h=xr(),f=Ce(),m=Ee(),$=X(),i={message:({params:{discrError:s,tagName:d}})=>s===h.DiscrError.Tag?`tag "${d}" must be string`:`value of tag "${d}" must be in oneOf`,params:({params:{discrError:s,tag:d,tagName:_}})=>(0,r._)`{error: ${s}, tag: ${_}, tagValue: ${d}}`},p={keyword:"discriminator",type:"object",schemaType:"object",error:i,code(s){const{gen:d,data:_,schema:g,parentSchema:E,it:P}=s,{oneOf:N}=E;if(!P.opts.discriminator)throw new Error("discriminator: requires discriminator option");const S=g.propertyName;if(typeof S!="string")throw new Error("discriminator: requires propertyName");if(g.mapping)throw new Error("discriminator: mapping is not supported");if(!N)throw new Error("discriminator: requires oneOf keyword");const y=d.let("valid",!1),n=d.const("tag",(0,r._)`${_}${(0,r.getProperty)(S)}`);d.if((0,r._)`typeof ${n} == "string"`,()=>o(),()=>s.error(!1,{discrError:h.DiscrError.Tag,tag:n,tagName:S})),s.ok(y);function o(){const c=t();d.if(!1);for(const u in c)d.elseIf((0,r._)`${n} === ${u}`),d.assign(y,a(c[u]));d.else(),s.error(!1,{discrError:h.DiscrError.Mapping,tag:n,tagName:S}),d.endIf()}function a(c){const u=d.name("valid"),v=s.subschema({keyword:"oneOf",schemaProp:c},u);return s.mergeEvaluated(v,r.Name),u}function t(){var c;const u={},v=j(E);let b=!0;for(let q=0;q<N.length;q++){let K=N[q];if(K!=null&&K.$ref&&!(0,$.schemaHasRulesButRef)(K,P.self.RULES)){const Q=K.$ref;if(K=f.resolveRef.call(P.self,P.schemaEnv.root,P.baseId,Q),K instanceof f.SchemaEnv&&(K=K.schema),K===void 0)throw new m.default(P.opts.uriResolver,P.baseId,Q)}const F=(c=K==null?void 0:K.properties)===null||c===void 0?void 0:c[S];if(typeof F!="object")throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${S}"`);b=b&&(v||j(K)),I(F,q)}if(!b)throw new Error(`discriminator: "${S}" must be required`);return u;function j({required:q}){return Array.isArray(q)&&q.includes(S)}function I(q,K){if(q.const)D(q.const,K);else if(q.enum)for(const F of q.enum)D(F,K);else throw new Error(`discriminator: "properties/${S}" must have "const" or "enum"`)}function D(q,K){if(typeof q!="string"||q in u)throw new Error(`discriminator: "${S}" values must be unique strings`);u[q]=K}}}};e.default=p}),rt=z((e,r)=>{r.exports={$schema:"http://json-schema.org/draft-07/schema#",$id:"http://json-schema.org/draft-07/schema#",title:"Core schema meta-schema",definitions:{schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},type:["object","boolean"],properties:{$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},default:!0}}),tt=z((e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.MissingRefError=e.ValidationError=e.CodeGen=e.Name=e.nil=e.stringify=e.str=e._=e.KeywordCxt=e.Ajv=void 0;var h=gr(),f=Zr(),m=et(),$=rt(),i=["/properties"],p="http://json-schema.org/draft-07/schema";class s extends h.default{_addVocabularies(){super._addVocabularies(),f.default.forEach(N=>this.addVocabulary(N)),this.opts.discriminator&&this.addKeyword(m.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;const N=this.opts.$data?this.$dataMetaSchema($,i):$;this.addMetaSchema(N,p,!1),this.refs["http://json-schema.org/schema"]=p}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(p)?p:void 0)}}e.Ajv=s,r.exports=e=s,r.exports.Ajv=s,Object.defineProperty(e,"__esModule",{value:!0}),e.default=s;var d=be();Object.defineProperty(e,"KeywordCxt",{enumerable:!0,get:function(){return d.KeywordCxt}});var _=W();Object.defineProperty(e,"_",{enumerable:!0,get:function(){return _._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return _.str}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return _.stringify}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return _.nil}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return _.Name}}),Object.defineProperty(e,"CodeGen",{enumerable:!0,get:function(){return _.CodeGen}});var g=Ie();Object.defineProperty(e,"ValidationError",{enumerable:!0,get:function(){return g.default}});var E=Ee();Object.defineProperty(e,"MissingRefError",{enumerable:!0,get:function(){return E.default}})}),nt=z((e,r)=>{Object.defineProperty(e,"__esModule",{value:!0});var h={},f={timestamp:()=>()=>Date.now(),datetime:()=>()=>new Date().toISOString(),date:()=>()=>new Date().toISOString().slice(0,10),time:()=>()=>new Date().toISOString().slice(11),random:()=>()=>Math.random(),randomint:_=>{var g;const E=(g=_==null?void 0:_.max)!==null&&g!==void 0?g:2;return()=>Math.floor(Math.random()*E)},seq:_=>{var g;const E=(g=_==null?void 0:_.name)!==null&&g!==void 0?g:"";return h[E]||(h[E]=0),()=>h[E]++}},m=Object.assign($,{DEFAULTS:f});function $(){return{keyword:"dynamicDefaults",type:"object",schemaType:["string","object"],modifying:!0,valid:!0,compile(_,g,E){if(!E.opts.useDefaults||E.compositeRule)return()=>!0;const P={};for(const S in _)P[S]=i(_[S]);const N=E.opts.useDefaults==="empty";return S=>{for(const y in _)(S[y]===void 0||N&&(S[y]===null||S[y]===""))&&(S[y]=P[y]());return!0}},metaSchema:{type:"object",additionalProperties:{anyOf:[{type:"string"},{type:"object",additionalProperties:!1,required:["func","args"],properties:{func:{type:"string"},args:{type:"object"}}}]}}}}function i(_){return typeof _=="object"?p(_):s(_)}function p({func:_,args:g}){const E=f[_];return d(_,E),E(g)}function s(_=""){const g=f[_];return d(_,g),g()}function d(_,g){if(!g)throw new Error(`invalid "dynamicDefaults" keyword property value: ${_}`)}e.default=m,r.exports=m});function Ke(e){if(!je(e))return ye(e);const r=new Proxy({},{get(h,f,m){return nr(Reflect.get(e.value,f,m))},set(h,f,m){return je(e.value[f])&&!je(m)?e.value[f].value=m:e.value[f]=m,!0},deleteProperty(h,f){return Reflect.deleteProperty(e.value,f)},has(h,f){return Reflect.has(e.value,f)},ownKeys(){return Object.keys(e.value)},getOwnPropertyDescriptor(){return{enumerable:!0,configurable:!0}}});return ye(r)}typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;var ne=[];for(let e=0;e<256;++e)ne.push((e+256).toString(16).slice(1));function at(e,r=0){return(ne[e[r+0]]+ne[e[r+1]]+ne[e[r+2]]+ne[e[r+3]]+"-"+ne[e[r+4]]+ne[e[r+5]]+"-"+ne[e[r+6]]+ne[e[r+7]]+"-"+ne[e[r+8]]+ne[e[r+9]]+"-"+ne[e[r+10]]+ne[e[r+11]]+ne[e[r+12]]+ne[e[r+13]]+ne[e[r+14]]+ne[e[r+15]]).toLowerCase()}var Ne,it=new Uint8Array(16);function st(){if(!Ne){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");Ne=crypto.getRandomValues.bind(crypto)}return Ne(it)}var ot=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Fe={randomUUID:ot};function ut(e,r,h){var m;if(Fe.randomUUID&&!r&&!e)return Fe.randomUUID();e=e||{};const f=e.random??((m=e.rng)==null?void 0:m.call(e))??st();if(f.length<16)throw new Error("Random bytes length must be >= 16");if(f[6]=f[6]&15|64,f[8]=f[8]&63|128,r){if(h=h||0,h<0||h+16>r.length)throw new RangeError(`UUID byte range ${h}:${h+15} is out of buffer bounds`);for(let $=0;$<16;++$)r[h+$]=f[$];return r}return at(f)}var lt=ut;function ct(e,{branch:r="branch",children:h="children",id:f="id",index:m="index",next:$="next",parent:i="parent",prev:p="prev",siblings:s="siblings"}={}){const _={[r]:{get(){var I;const j=[this];for(;(I=j[0])!=null&&I[i];)j.unshift(j[0][i]);return j}},[m]:{get(){return this[s].findIndex(j=>this[f]===j[f])}},[$]:{get(){return this[s][this[m]+1]}},[p]:{get(){return this[s][this[m]-1]}}},g=tr(e)?e:ye(e),E=Ve(S),P=Ke(E),N=Ke(Ve(n));function S(){return y({value:g})}function y(j,I={}){function D(q){return Object.defineProperties(q,{..._,[i]:I,[s]:j}),[q,...y({configurable:!0,value:q[h]??[]},{configurable:!0,value:q})]}return j.value.flatMap(D)}function n(){return Object.fromEntries(E.value.map(o))}function o(j){return[j[f],j]}function a(j){const I=N[j];if(I){const D=I[h],q=I[m],K=I[s],F=lt();switch(!0){case!!I[i]:K.splice(q+1,0,{[f]:F});break;case!!D:D.unshift({[f]:F});break;default:K.splice(q+1,0,{[f]:F});break}return F}}function t(j){const I=N[j];if(I){const D=I[m],q=D+1,K=I[s];D<K.length-1&&K[D]&&K[q]&&([K[D],K[q]]=[K[q],K[D]])}}function c(j){const I=N[j];if(I){const D=I[i];if(D!=null&&D[i]){const q=D[h]??[];return D[s].splice(D[m]+1,0,...q.splice(I[m],1)),D[f]}}}function u(j){const I=N[j];if(I){const D=I[i];if(D){const[q]=E.value,K=I[$],F=I[p],Q=(K==null?void 0:K[f])??(F==null?void 0:F[f])??D[f]??(q==null?void 0:q[f]);return I[s].splice(I[m],1),Q}}}function v(j){const I=N[j];if(I){const D=I[p];if(D){const q=D[h]??[],K=D[f],F=I[s];return D[h]=[...q,...F.splice(I[m],1)],K}}}function b(j){const I=N[j];if(I){const D=I[m],q=D-1,K=I[s];D&&K[D]&&K[q]&&([K[q],K[D]]=[K[D],K[q]])}}return{add:a,arrLeaves:P,down:t,leaves:E,left:c,objLeaves:N,remove:u,right:v,up:b}}var dt=Je(tt()),xe=Je(nt()),ae=[];for(let e=0;e<256;++e)ae.push((e+256).toString(16).slice(1));function ft(e,r=0){return(ae[e[r+0]]+ae[e[r+1]]+ae[e[r+2]]+ae[e[r+3]]+"-"+ae[e[r+4]]+ae[e[r+5]]+"-"+ae[e[r+6]]+ae[e[r+7]]+"-"+ae[e[r+8]]+ae[e[r+9]]+"-"+ae[e[r+10]]+ae[e[r+11]]+ae[e[r+12]]+ae[e[r+13]]+ae[e[r+14]]+ae[e[r+15]]).toLowerCase()}var Oe,ht=new Uint8Array(16);function mt(){if(!Oe){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");Oe=crypto.getRandomValues.bind(crypto)}return Oe(ht)}var pt=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Le={randomUUID:pt};function vt(e,r,h){var m;if(Le.randomUUID&&!r&&!e)return Le.randomUUID();e=e||{};const f=e.random??((m=e.rng)==null?void 0:m.call(e))??mt();if(f.length<16)throw new Error("Random bytes length must be >= 16");if(f[6]=f[6]&15|64,f[8]=f[8]&63|128,r){if(h=h||0,h<0||h+16>r.length)throw new RangeError(`UUID byte range ${h}:${h+15} is out of buffer bounds`);for(let $=0;$<16;++$)r[h+$]=f[$];return r}return ft(f)}var yt=vt,_t="urn:jsonschema:credentials",ve=!0,er="object",gt={properties:{accessKeyId:{default:null,nullable:ve,type:"string"},Bucket:{default:null,nullable:ve,type:"string"},endpoint:{default:null,nullable:ve,type:"string"},region:{default:null,nullable:ve,type:"string"},secretAccessKey:{default:null,nullable:ve,type:"string"}},type:er},$t={$id:_t,additionalProperties:gt,type:er},wt="urn:jsonschema:data",bt={$ref:"urn:jsonschema:page"},Et="array",St={$id:wt,items:bt,type:Et},Pt="urn:jsonschema:importmap",jt=!1,Nt="object",Ot={imports:{additionalProperties:{type:"string"},default:{},type:"object"}},kt={$id:Pt,additionalProperties:jt,properties:Ot,type:Nt},Rt="urn:jsonschema:page",Tt=!1,It="uuid",Ct={id:It},he=!0,Dt="object",Mt={changefreq:{default:null,enum:["always","hourly","daily","weekly","monthly","yearly","never",null],nullable:he,type:"string"},children:{default:[],items:{type:"object"},type:"array"},class:{default:["prose","max-w-none"],description:"Классы",items:{type:"string"},type:"array"},description:{default:null,nullable:he,type:"string"},enabled:{default:!0,type:"boolean"},flat:{default:!0,type:"boolean"},header:{type:"string"},icon:{type:"string"},id:{type:"string"},images:{default:[],items:{properties:{alt:{type:"string"},url:{default:"",type:"string"}},type:"object"},type:"array"},keywords:{default:[],items:{type:"string"},type:"array"},lastmod:{default:null,nullable:he,type:"string"},loc:{default:null,nullable:he,type:"string"},name:{default:null,nullable:he,type:"string"},priority:{default:null,maximum:1,minimum:0,nullable:he,type:"number"},type:{default:null,enum:["article","book","profile","website","music.song","music.album","music.playlist","music.radio_station","video.movie","video.episode","video.tv_show","video.other",null],nullable:he,type:"string"}},At={$id:Rt,additionalProperties:Tt,dynamicDefaults:Ct,properties:Mt,type:Dt};xe.default.DEFAULTS.uuid=()=>()=>yt();var qt={get(){return this.children.filter(({enabled:e})=>e)}},Vt={get(){return this.$siblings.findIndex(({id:e})=>this.id===e)}},Ut={get(){return this.$siblings[this.$index+1]}},zt={get(){return this.$siblings[this.$index-1]}},Kt={get(){return this.siblings.filter(({enabled:e})=>e)}},Ft=!0,Lt={esm:Ft},Ht=!0,Gt=[xe.default()],Jt=!0,Wt=[$t,St,At,kt],Bt=!0,Me=new dt.default({code:Lt,coerceTypes:Ht,keywords:Gt,removeAdditional:Jt,schemas:Wt,useDefaults:Bt}),rn=!0,Qt={get(){return this.icon&&`i-${this.icon}`}},He=ye({}),Te=ye([]),Xt={get(){const e=this.branch.slice(1);return e.some(({name:r})=>!r)?void 0:e.map(({name:r})=>r).join("/").replaceAll(" ","_")}},Yt={get(){return["",void 0].includes(this.header)?this.name:this.header}},Zt={get(){var e,r;return(r=((e=this.loc)==null?void 0:e.replaceAll(" ","_"))??this.path)==null?void 0:r.replace(/^\/?/,"/").replace(/\/?$/,"/")}};Me.getSchema("urn:jsonschema:credentials");var ke=Me.getSchema("urn:jsonschema:data"),Re=Me.getSchema("urn:jsonschema:importmap"),{add:tn,down:nn,leaves:xt,left:an,objLeaves:sn,remove:on,right:un,up:ln}=ct(Te),cn=e=>{window.console.error(e)},dn=async e=>(await fetch(e)).text(),fn=e=>Object.fromEntries(e.map(r=>[r.toLowerCase().replaceAll(" ","_"),r]));Ge(He,async e=>{await(Re==null?void 0:Re(e))||(He.imports={})});Ge(xt,async e=>{await(ke==null?void 0:ke(e))?e.forEach(r=>{Object.defineProperties(r,{$children:qt,$index:Vt,$next:Ut,$prev:zt,$siblings:Kt,i:Qt,path:Xt,title:Yt,to:Zt})}):(Te.length=0,Te.push({}))});export{sn as a,cn as b,dn as c,rn as d,fn as g,He as i,Te as n,xt as p};
